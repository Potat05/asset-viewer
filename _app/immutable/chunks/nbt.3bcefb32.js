import{e as E,f as U}from"./2.1e08a865.js";import{s as K,f as m,a as V,g as p,h as b,d as f,c as I,j as k,k as N,i as h,w as y,A as v,K as B,l as w,m as j,n as z,o as W,p as X}from"./scheduler.eb66c082.js";import{S as M,i as P,g as T,t as $,c as A,a as d,b as H,d as J,m as Q,e as R}from"./index.847d8d55.js";import{T as _,c as Y}from"./nbt.3a86d735.js";import{p as Z}from"./pako.esm.29d98458.js";function L(o,l,r){const n=o.slice();return n[2]=l[r],n}function C(o,l,r){const n=o.slice();return n[2]=l[r],n}function F(o,l,r){const n=o.slice();return n[1]=l[r][0],n[2]=l[r][1],n}function x(o){let l,r=E(o[0].value),n=[];for(let e=0;e<r.length;e+=1)n[e]=O(L(o,r,e));return{c(){l=m("div");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){l=p(e,"DIV",{class:!0});var i=b(l);for(let t=0;t<n.length;t+=1)n[t].l(i);i.forEach(f),this.h()},h(){k(l,"class","nbt-list svelte-jf5zdg")},m(e,i){h(e,l,i);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(l,null)},p(e,i){if(i&1){r=E(e[0].value);let t;for(t=0;t<r.length;t+=1){const s=L(e,r,t);n[t]?n[t].p(s,i):(n[t]=O(s),n[t].c(),n[t].m(l,null))}for(;t<n.length;t+=1)n[t].d(1);n.length=r.length}},i:v,o:v,d(e){e&&f(l),B(n,e)}}}function ee(o){let l,r,n=E(o[0].value),e=[];for(let t=0;t<n.length;t+=1)e[t]=q(C(o,n,t));const i=t=>$(e[t],1,1,()=>{e[t]=null});return{c(){l=m("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=p(t,"DIV",{class:!0});var s=b(l);for(let a=0;a<e.length;a+=1)e[a].l(s);s.forEach(f),this.h()},h(){k(l,"class","nbt-list svelte-jf5zdg")},m(t,s){h(t,l,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(l,null);r=!0},p(t,s){if(s&1){n=E(t[0].value);let a;for(a=0;a<n.length;a+=1){const u=C(t,n,a);e[a]?(e[a].p(u,s),d(e[a],1)):(e[a]=q(u),e[a].c(),d(e[a],1),e[a].m(l,null))}for(T(),a=n.length;a<e.length;a+=1)i(a);A()}},i(t){if(!r){for(let s=0;s<n.length;s+=1)d(e[s]);r=!0}},o(t){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)$(e[s]);r=!1},d(t){t&&f(l),B(e,t)}}}function te(o){let l,r,n=E(Object.entries(o[0].value)),e=[];for(let t=0;t<n.length;t+=1)e[t]=G(F(o,n,t));const i=t=>$(e[t],1,1,()=>{e[t]=null});return{c(){l=m("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=p(t,"DIV",{class:!0});var s=b(l);for(let a=0;a<e.length;a+=1)e[a].l(s);s.forEach(f),this.h()},h(){k(l,"class","nbt-compound svelte-jf5zdg")},m(t,s){h(t,l,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(l,null);r=!0},p(t,s){if(s&1){n=E(Object.entries(t[0].value));let a;for(a=0;a<n.length;a+=1){const u=F(t,n,a);e[a]?(e[a].p(u,s),d(e[a],1)):(e[a]=G(u),e[a].c(),d(e[a],1),e[a].m(l,null))}for(T(),a=n.length;a<e.length;a+=1)i(a);A()}},i(t){if(!r){for(let s=0;s<n.length;s+=1)d(e[s]);r=!0}},o(t){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)$(e[s]);r=!1},d(t){t&&f(l),B(e,t)}}}function le(o){let l,r=o[0].value+"",n,e;return{c(){l=w('"'),n=w(r),e=w('"')},l(i){l=j(i,'"'),n=j(i,r),e=j(i,'"')},m(i,t){h(i,l,t),h(i,n,t),h(i,e,t)},p(i,t){t&1&&r!==(r=i[0].value+"")&&z(n,r)},i:v,o:v,d(i){i&&(f(l),f(n),f(e))}}}function ne(o){let l=o[0].value+"",r;return{c(){r=w(l)},l(n){r=j(n,l)},m(n,e){h(n,r,e)},p(n,e){e&1&&l!==(l=n[0].value+"")&&z(r,l)},i:v,o:v,d(n){n&&f(r)}}}function O(o){let l,r=o[2]+"",n,e;return{c(){l=m("div"),n=w(r),e=V(),this.h()},l(i){l=p(i,"DIV",{class:!0});var t=b(l);n=j(t,r),e=I(t),t.forEach(f),this.h()},h(){k(l,"class","nbt-list-item svelte-jf5zdg")},m(i,t){h(i,l,t),y(l,n),y(l,e)},p(i,t){t&1&&r!==(r=i[2]+"")&&z(n,r)},d(i){i&&f(l)}}}function q(o){let l,r,n,e;return r=new S({props:{entry:o[2]}}),{c(){l=m("div"),H(r.$$.fragment),n=V(),this.h()},l(i){l=p(i,"DIV",{class:!0});var t=b(l);J(r.$$.fragment,t),n=I(t),t.forEach(f),this.h()},h(){k(l,"class","nbt-list-item svelte-jf5zdg")},m(i,t){h(i,l,t),Q(r,l,null),y(l,n),e=!0},p(i,t){const s={};t&1&&(s.entry=i[2]),r.$set(s)},i(i){e||(d(r.$$.fragment,i),e=!0)},o(i){$(r.$$.fragment,i),e=!1},d(i){i&&f(l),R(r)}}}function G(o){let l,r=o[1]+"",n,e,i,t,s;return i=new S({props:{entry:o[2]}}),{c(){l=m("div"),n=w(r),e=w(": "),H(i.$$.fragment),t=V(),this.h()},l(a){l=p(a,"DIV",{class:!0});var u=b(l);n=j(u,r),e=j(u,": "),J(i.$$.fragment,u),t=I(u),u.forEach(f),this.h()},h(){k(l,"class","nbt-compound-kv svelte-jf5zdg")},m(a,u){h(a,l,u),y(l,n),y(l,e),Q(i,l,null),y(l,t),s=!0},p(a,u){(!s||u&1)&&r!==(r=a[1]+"")&&z(n,r);const c={};u&1&&(c.entry=a[2]),i.$set(c)},i(a){s||(d(i.$$.fragment,a),s=!0)},o(a){$(i.$$.fragment,a),s=!1},d(a){a&&f(l),R(i)}}}function re(o){let l,r,n,e,i,t;const s=[ne,le,te,ee,x],a=[];function u(c,g){return c[0].tag==_.Byte||c[0].tag==_.Short||c[0].tag==_.Int||c[0].tag==_.Long||c[0].tag==_.Float||c[0].tag==_.Double?0:c[0].tag==_.String?1:c[0].tag==_.Compound?2:c[0].tag==_.List?3:c[0].tag==_.Byte_Array||c[0].tag==_.Int_Array||c[0].tag==_.Long_Array?4:-1}return~(e=u(o))&&(i=a[e]=s[e](o)),{c(){l=m("div"),r=m("span"),n=V(),i&&i.c(),this.h()},l(c){l=p(c,"DIV",{class:!0});var g=b(l);r=p(g,"SPAN",{class:!0,style:!0}),b(r).forEach(f),n=I(g),i&&i.l(g),g.forEach(f),this.h()},h(){k(r,"class","nbt-icon svelte-jf5zdg"),N(r,"background-position-y","-"+o[0].tag+"rem"),k(l,"class","nbt-container svelte-jf5zdg")},m(c,g){h(c,l,g),y(l,r),y(l,n),~e&&a[e].m(l,null),t=!0},p(c,[g]){(!t||g&1)&&N(r,"background-position-y","-"+c[0].tag+"rem");let D=e;e=u(c),e===D?~e&&a[e].p(c,g):(i&&(T(),$(a[D],1,1,()=>{a[D]=null}),A()),~e?(i=a[e],i?i.p(c,g):(i=a[e]=s[e](c),i.c()),d(i,1),i.m(l,null)):i=null)},i(c){t||(d(i),t=!0)},o(c){$(i),t=!1},d(c){c&&f(l),~e&&a[e].d()}}}function ie(o,l,r){let{entry:n}=l;return o.$$set=e=>{"entry"in e&&r(0,n=e.entry)},[n]}class S extends M{constructor(l){super(),P(this,l,ie,re,K,{entry:0})}}function ae(o){let l;return{c(){l=m("div")},l(r){l=p(r,"DIV",{}),b(l).forEach(f)},m(r,n){h(r,l,n),o[2](l)},p:v,i:v,o:v,d(r){r&&f(l),o[2](null)}}}function se(o,l,r){let{entry:n}=l,e;W(async()=>{const t=Y(Z.ungzip(await n.buffer()));new S({target:e,props:{entry:t}})});function i(t){X[t?"unshift":"push"](()=>{e=t,r(0,e)})}return o.$$set=t=>{"entry"in t&&r(1,n=t.entry)},[e,n,i]}class oe extends M{constructor(l){super(),P(this,l,se,ae,K,{entry:1})}}const ge={namespace:"minecraft.nbt",priority:2,createViewer:async(o,l)=>{if(o.type==U.File)new oe({target:l,props:{entry:o}});else throw new Error("Tried to create nbt viewer with directory.")}};export{ge as default};
