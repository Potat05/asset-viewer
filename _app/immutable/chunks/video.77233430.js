import{h as s,u as d,f as l}from"./2.ec27719f.js";import{s as h,e as u,i as f,A as o,d as i,f as _,g as b,h as v,J as p,j as m}from"./scheduler.ac22207c.js";import{S as k,i as y}from"./index.1bb6f5e4.js";function w(r){return{c:o,l:o,m:o,p:o,d:o}}function g(r){let t,a;return{c(){t=_("video"),this.h()},l(e){t=b(e,"VIDEO",{src:!0}),v(t).forEach(i),this.h()},h(){p(t.src,a=URL.createObjectURL(r[1]))||m(t,"src",a),t.controls=!0},m(e,n){f(e,t,n)},p(e,n){n&1&&!p(t.src,a=URL.createObjectURL(e[1]))&&m(t,"src",a)},d(e){e&&i(t)}}}function E(r){return{c:o,l:o,m:o,p:o,d:o}}function L(r){let t,a,e={ctx:r,current:null,token:null,hasCatch:!1,pending:E,then:g,catch:w,value:1};return s(a=r[0].blob(),e),{c(){t=u(),e.block.c()},l(n){t=u(),e.block.l(n)},m(n,c){f(n,t,c),e.block.m(n,e.anchor=c),e.mount=()=>t.parentNode,e.anchor=t},p(n,[c]){r=n,e.ctx=r,c&1&&a!==(a=r[0].blob())&&s(a,e)||d(e,r,c)},i:o,o,d(n){n&&i(t),e.block.d(n),e.token=null,e=null}}}function R(r,t,a){let{entry:e}=t;return r.$$set=n=>{"entry"in n&&a(0,e=n.entry)},[e]}class U extends k{constructor(t){super(),y(this,t,R,L,h,{entry:0})}}const q={namespace:"video",priority:1,isValid:async r=>r.type==l.File&&["mp4","mov","webm","mkv"].includes(r.name.split(".").pop()??""),createViewer:async(r,t)=>{if(r.type==l.File)new U({target:t,props:{entry:r}});else throw new Error("Tried to create video viewer with directory.")},getIcon:async()=>"/asset-viewer/bootstrap-icons/file-play.svg"};export{q as default};
