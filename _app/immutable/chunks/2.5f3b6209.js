var Qn=Object.defineProperty;var Yn=(i,e,n)=>e in i?Qn(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var k=(i,e,n)=>(Yn(i,typeof e!="symbol"?e+"":e,n),n),Jn=(i,e,n)=>{if(!e.has(i))throw TypeError("Cannot "+n)};var ot=(i,e,n)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,n)};var He=(i,e,n)=>(Jn(i,e,"access private method"),n);import{C as ei,D as ti,E as Ue,F as fe,s as xe,f as z,a as pe,l as gt,g as B,h as K,c as de,m as mt,d as E,j as I,G as ke,i as D,w as X,H as we,n as _t,A as b,I as pn,J as re,v as bt,p as Ke,e as J,o as wt,K as ni,L as ii,M as ri,N as si,O as li}from"./scheduler.ac22207c.js";import{g as Be,t as ne,c as Ne,a as Y,S as Te,i as Re,b as kt,d as yt,m as xt,e as vt}from"./index.1bb6f5e4.js";import{w as ai}from"./index.346d3941.js";import{_ as C}from"./preload-helper.a4192956.js";function ce(i,e){const n=e.token={};function t(r,s,l,a){if(e.token!==n)return;e.resolved=a;let o=e.ctx;l!==void 0&&(o=o.slice(),o[l]=a);const u=r&&(e.current=r)(o);let c=!1;e.block&&(e.blocks?e.blocks.forEach((f,h)=>{h!==s&&f&&(Be(),ne(f,1,1,()=>{e.blocks[h]===f&&(e.blocks[h]=null)}),Ne())}):e.block.d(1),u.c(),Y(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[s]=u),c&&fe()}if(ei(i)){const r=ti();if(i.then(s=>{Ue(r),t(e.then,1,e.value,s),Ue(null)},s=>{if(Ue(r),t(e.catch,2,e.error,s),Ue(null),!e.hasCatch)throw s}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,i),!0;e.resolved=i}}function Ce(i,e,n){const t=e.slice(),{resolved:r}=i;i.current===i.then&&(t[i.value]=r),i.current===i.catch&&(t[i.error]=r),i.block.p(t,n)}function Ft(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}const oi=!0,ys=Object.freeze(Object.defineProperty({__proto__:null,prerender:oi},Symbol.toStringTag,{value:"Module"}));function Vt(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=B(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){I(e,"class","tab-icon svelte-sjbfua"),re(e.src,n=i[2])||I(e,"src",n),I(e,"alt","Tab List Icon")},m(t,r){D(t,e,r)},p(t,r){r&4&&!re(e.src,n=t[2])&&I(e,"src",n)},d(t){t&&E(e)}}}function Ht(i){let e,n='<img class="tab-remove-icon svelte-sjbfua" src="/asset-viewer/bootstrap-icons/x-lg.svg" alt="Remove Tab Icon"/>',t,r;return{c(){e=z("div"),e.innerHTML=n,this.h()},l(s){e=B(s,"DIV",{class:!0,"data-svelte-h":!0}),bt(e)!=="svelte-di38j7"&&(e.innerHTML=n),this.h()},h(){I(e,"class","tab-remove-container svelte-sjbfua")},m(s,l){D(s,e,l),t||(r=we(e,"click",i[6]),t=!0)},p:b,d(s){s&&E(e),t=!1,r()}}}function ci(i){let e,n,t,r,s,l,a=i[2]&&Vt(i),o=i[4]&&Ht(i);return{c(){e=z("div"),a&&a.c(),n=pe(),t=gt(i[1]),r=pe(),o&&o.c(),this.h()},l(u){e=B(u,"DIV",{class:!0});var c=K(e);a&&a.l(c),n=de(c),t=mt(c,i[1]),r=de(c),o&&o.l(c),c.forEach(E),this.h()},h(){I(e,"class","tab-list-item svelte-sjbfua"),ke(e,"selected",i[3])},m(u,c){D(u,e,c),a&&a.m(e,null),X(e,n),X(e,t),X(e,r),o&&o.m(e,null),s||(l=we(e,"click",i[7]),s=!0)},p(u,[c]){u[2]?a?a.p(u,c):(a=Vt(u),a.c(),a.m(e,n)):a&&(a.d(1),a=null),c&2&&_t(t,u[1]),u[4]?o?o.p(u,c):(o=Ht(u),o.c(),o.m(e,null)):o&&(o.d(1),o=null),c&8&&ke(e,"selected",u[3])},i:b,o:b,d(u){u&&E(e),a&&a.d(),o&&o.d(),s=!1,l()}}}function ui(i,e,n){const t=pn();let{id:r}=e,{name:s}=e,{icon:l=null}=e,{selected:a=!1}=e,{closable:o=!1}=e;const u=f=>{f.stopPropagation(),t("tab_close",r)},c=()=>t("tab_select",r);return i.$$set=f=>{"id"in f&&n(0,r=f.id),"name"in f&&n(1,s=f.name),"icon"in f&&n(2,l=f.icon),"selected"in f&&n(3,a=f.selected),"closable"in f&&n(4,o=f.closable)},[r,s,l,a,o,t,u,c]}class hi extends Te{constructor(e){super(),Re(this,e,ui,ci,xe,{id:0,name:1,icon:2,selected:3,closable:4})}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),fe()}get name(){return this.$$.ctx[1]}set name(e){this.$$set({name:e}),fe()}get icon(){return this.$$.ctx[2]}set icon(e){this.$$set({icon:e}),fe()}get selected(){return this.$$.ctx[3]}set selected(e){this.$$set({selected:e}),fe()}get closable(){return this.$$.ctx[4]}set closable(e){this.$$set({closable:e}),fe()}}function fi(i){let e;return{c(){e=z("div"),this.h()},l(n){e=B(n,"DIV",{class:!0}),K(e).forEach(E),this.h()},h(){I(e,"class","tab-content-item svelte-195j8un"),ke(e,"selected",i[1])},m(n,t){D(n,e,t),i[3](e)},p(n,[t]){t&2&&ke(e,"selected",n[1])},i:b,o:b,d(n){n&&E(e),i[3](null)}}}function pi(i,e,n){let{id:t}=e,{selected:r=!1}=e,{slot:s=null}=e;function l(a){Ke[a?"unshift":"push"](()=>{s=a,n(0,s)})}return i.$$set=a=>{"id"in a&&n(2,t=a.id),"selected"in a&&n(1,r=a.selected),"slot"in a&&n(0,s=a.slot)},[s,r,t,l]}class di extends Te{constructor(e){super(),Re(this,e,pi,fi,xe,{id:2,selected:1,slot:0})}get id(){return this.$$.ctx[2]}set id(e){this.$$set({id:e}),fe()}get selected(){return this.$$.ctx[1]}set selected(e){this.$$set({selected:e}),fe()}get slot(){return this.$$.ctx[0]}set slot(e){this.$$set({slot:e}),fe()}}var Xe;(i=>{function e(t,r,s="0x"){return`${s}${t.toString(16).toUpperCase().padStart(r*2,"0")}`}i.hex=e;function n(t,r,s){return t+s*(r-t)}i.lerp=n})(Xe||(Xe={}));const qe={Uint8:1,Int8:1,Uint16:2,Int16:2,Uint32:4,Int32:4,BigUint64:8,BigInt64:8,Float32:4,Float64:8},_e=class _e{constructor(e){k(this,"view",new DataView(new ArrayBuffer(0)));k(this,"pointer",0);k(this,"endianness",_e.LITTLE_ENDIAN);e!==void 0&&(e instanceof _e&&(e=e.buffer),this.loadData(e))}get length(){return this.view.byteLength}get buffer(){return this.view.buffer}get eof(){return this.pointer>=this.length}get dataLeft(){return this.length-this.pointer}loadData(e,n=0){e instanceof ArrayBuffer||(e=e.buffer),this.view=new DataView(e),this.pointer=n}to(){let e=arguments[0];return typeof e=="function"&&(e=new e),e.loadData(this.buffer,this.pointer),e}peek(e,n=0,...t){const r=this.pointer;this.pointer+=n;const s=e.call(this,...t);return this.pointer=r,s}readBuffer(e){const n=this.buffer.slice(this.pointer,this.pointer+e);return this.pointer+=e,n}readBufferFast(e){const n=new Uint8Array(this.buffer,this.pointer,e);return this.pointer+=e,n}readNumber(e){const n=this.view[`get${e}`](this.pointer,this.endianness);return this.pointer+=qe[e],n}readBigNumber(e){const n=this.view[`get${e}`](this.pointer,this.endianness);return this.pointer+=qe[e],n}readCustomNumber(e,n){let t=new Uint8Array(this.readBuffer(e));this.endianness==_e.LITTLE_ENDIAN&&(t=t.reverse());let r=0;for(let s=0;s<t.length;s++)r<<=8,r|=t[s];return n&&r&2<<e*8-1&&(r&=(2<<e*8-1)-1,r=-r),r}readBigCustomNumber(e,n){let t=new Uint8Array(this.readBuffer(e));this.endianness==_e.LITTLE_ENDIAN&&(t=t.reverse());let r=0n;for(let s=0;s<t.length;s++)r<<=8n,r|=BigInt(t[s]);return n&&r&2n<<BigInt(e)*8n-1n&&(r&=(2n<<BigInt(e)*8n-1n)-1n,r=-r),r}readString(e,n="utf-8"){const t=this.readBuffer(e);return new TextDecoder(n).decode(t)}readNullString(e="utf-8"){let n=this.pointer;for(;this.view.getUint8(n++)!=0;);const t=this.readBufferFast(n-this.pointer-1);return this.pointer++,new TextDecoder(e).decode(t)}readArray(e,n,...t){let r=new Array(n);for(let s=0;s<n;s++)r[s]=e.call(this,...t);return r}readArrayWhile(e,n,...t){let r=new Array;do r.push(e.call(this,...t));while(n(r[r.length-1],r.length-1,r));return r}readArrayTuple(e,n,...t){return this.readArray(e,n,...t)}readArrayUntilEnd(e,...n){return this.readArrayWhile(e,()=>!this.eof,...n)}assertMagic(e,n){if(typeof e=="string"){const t=this.readString(e.length,"ascii");if(t!=e)throw new Error(`DataReader.assertMagic: Strings do not match. expected: "${e}" got: "${t}"`)}else if(e instanceof ArrayBuffer){const t=new Uint8Array(e),r=new Uint8Array(this.readBuffer(t.length));if(t.some((s,l)=>s!=r[l]))throw new Error("DataReader.assertMagic: Buffers do not match.")}else if(Array.isArray(e)){const t=new Uint8Array(this.readBuffer(e.length));if(e.some((r,s)=>r!=t[s]))throw new Error("DataReader.assertMagic: Arrays do not match.")}else if(typeof e=="number"||typeof e=="bigint"){if(n===void 0)throw new Error("DataReader.magic: Must provide type for number.");const t=typeof e=="number"?this.readNumber(n):this.readBigNumber(n);if(t!=e)throw new Error(`DataReader.assertMagic: Magic number does not match. expected: ${Xe.hex(e,qe[n])} got: ${Xe.hex(t,qe[n])}`)}else throw new Error("DataReader.assertMagic: Invalid arguments.")}magic(e,n){if(typeof e=="string")return this.readString(e.length,"ascii")==e;if(e instanceof ArrayBuffer){const t=new Uint8Array(e),r=new Uint8Array(this.readBuffer(t.length));return t.every((s,l)=>s==r[l])}else if(Array.isArray(e)){const t=new Uint8Array(this.readBuffer(e.length));return e.every((r,s)=>r==t[s])}else if(typeof e=="number"||typeof e=="bigint"){if(n===void 0)throw new Error("DataReader.magic: Must provide type for number.");return(typeof e=="number"?this.readNumber(n):this.readBigNumber(n))==e}else throw new Error("DataReader.magic: Invalid arguments.")}};k(_e,"BIG_ENDIAN",!1),k(_e,"LITTLE_ENDIAN",!0);let ut=_e;var Qe;(i=>{function e(c){return new Promise(f=>setTimeout(f,c))}i.wait=e;const n=` 
	\\=+-/*:[](){}`.split("").map(c=>c.charCodeAt(0)),t=8;function r(c){if(c.byteLength==0)throw new Error("isBinary was called with no data.");const f=new ut(c);let h=[],p=0;for(;!f.eof;){const w=f.readNumber("Uint8");n.includes(w)?(p>0&&h.push(p),p=0):p++}return h.reduce((w,S)=>w+=S/h.length,0)>t}i.isBinary=r;function s(c){return c instanceof ArrayBuffer?c:c.buffer}i.getBuffer=s;function l(c,f){let h=new Array(c);for(let p=0;p<c;p++)h[p]=f(p);return h}i.initArray=l;async function a(c,f){return(await Promise.all(c.map(async h=>({value:h,success:await f(h)})))).filter(h=>h.success).map(h=>h.value)}i.asyncFilter=a;let o=0;function u(){return o++}i.getID=u})(Qe||(Qe={}));const dn=ai();let Q;dn.subscribe(i=>Q=i);function ht(i){if(Q.items.every(e=>e.id!=i))throw new Error("Attempted to select invalid tab.");Q.selected=i,Q.items.forEach(e=>{e.listItem.selected=e.id==Q.selected,e.contentItem.selected=e.id==Q.selected})}function gi(i){const e=Q.items.findIndex(t=>t.id==i);if(e==-1)throw new Error("Attempted to close invalid tab.");Q.selected==i&&ht(Q.items[e-1].id),Q.items.splice(e,1).forEach(t=>{t.listItem.$destroy(),t.contentItem.$destroy()})}function ft(i){const e=Qe.getID(),n=new hi({target:Q.listContainer,props:{name:i.name,icon:i.icon,id:e,closable:i.closable??!0}});n.$on("tab_select",s=>{ht(s.detail)}),n.$on("tab_close",s=>{gi(s.detail)});const t=new di({target:Q.contentContainer,props:{id:e}});Q.items.push({listItem:n,contentItem:t,id:e}),((i.autoSelect??!0)||Q.selected==null)&&ht(e);const r=t.slot;if(!r)throw new Error("Failed to create slot for tab.");return r}class gn{constructor(){k(this,"items",[])}async itemImport(e){return e.import===null&&(e.import=(await e.importfn()).default),e}async get(e){for(const n of this.items)if(await n.isValid(e))return await this.itemImport(n);return null}async getImport(e){var n;return((n=await this.get(e))==null?void 0:n.import)??null}async getAll(e){let n=[];for(const t of this.items)await t.isValid(e)&&n.push(await this.itemImport(t));return n}async getAllImports(e){return(await this.getAll(e)).map(n=>n.import)}async valid(e){for(const n of this.items)if(n.isValid(e))return!0;return!1}addRegistryItem(e,n,t){this.items.push({isValid:e,importfn:n,import:null,extra:t})}}const Et=new gn;function ue(i,e,n){Et.addRegistryItem(t=>t.type=="filename"?e.test(t.filename):t.type=="langname"?t.langname.toLowerCase()==i:!1,n,i)}ue("plaintext",/$-/,()=>C(()=>import("./plaintext.7945c0c0.js"),[],import.meta.url));ue("javascript",/\.m?js$/,()=>C(()=>import("./javascript.e0819b20.js"),[],import.meta.url));ue("typescript",/\.(?:d\.)?ts$/,()=>C(()=>import("./typescript.def66f35.js"),[],import.meta.url));ue("json",/\.json$/,()=>C(()=>import("./json.c6c94b43.js"),[],import.meta.url));ue("xml",/\.(?:xml|html|svelte)$/,()=>C(()=>import("./xml.7b0fd495.js"),[],import.meta.url));ue("markdown",/\.md$/,()=>C(()=>import("./markdown.83c491be.js"),[],import.meta.url));ue("python",/\.py$/,()=>C(()=>import("./python.d59bf68c.js"),[],import.meta.url));ue("bash",/\.sh$/,()=>C(()=>import("./bash.cc88d916.js"),[],import.meta.url));ue("cpp",/\.(?:c|cpp|h|hpp|glsl|vsh|fsh)$/,()=>C(()=>import("./cpp.aa04b0db.js"),[],import.meta.url));ue("rust",/\.rs$/,()=>C(()=>import("./rust.e4f5d8be.js"),[],import.meta.url));const ee=new gn;ee.addRegistryItem(i=>{var e;return i.type==F.File&&["txt","gitignore","npmrc","license","cfg","properties","url","conf","config"].includes(((e=i.name.split(".").pop())==null?void 0:e.toLowerCase())??"")},()=>C(()=>import("./text.c46b8b2e.js"),["./text.c46b8b2e.js","./Code.f80e555b.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./Code.bab618d2.js","../assets/Code.10b05023.css"],import.meta.url));ee.addRegistryItem(async i=>i.type==F.File&&await Et.valid({type:"filename",filename:i.name}),()=>C(()=>import("./code.25d7a625.js"),["./code.25d7a625.js","./Code.f80e555b.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./Code.bab618d2.js","../assets/Code.10b05023.css"],import.meta.url));ee.addRegistryItem(i=>i.type==F.File&&i.name.toLowerCase().endsWith(".md"),()=>C(()=>import("./markdown.c3bd3115.js"),[],import.meta.url));ee.addRegistryItem(i=>i.type==F.File&&["png","jpg","jpeg","jfif","tiff","webp","gif","svg","bmp"].includes(i.name.split(".").pop()??""),()=>C(()=>import("./image.b6703041.js"),["./image.b6703041.js","./ImageView.e3135e86.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./ImageUtils.e16e1161.js","../assets/ImageView.830b7497.css"],import.meta.url));ee.addRegistryItem(i=>i.type==F.File&&["mp4","mov","webm","mkv"].includes(i.name.split(".").pop()??""),()=>C(()=>import("./video.ceeb307b.js"),["./video.ceeb307b.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js"],import.meta.url));ee.addRegistryItem(i=>i.type==F.File&&i.name.endsWith(".zip"),()=>C(()=>import("./zip.857cd509.js"),["./zip.857cd509.js","./BlobReader.f093c455.js","./pako.esm.29d98458.js"],import.meta.url));ee.addRegistryItem(i=>i.type==F.File&&i.name.endsWith(".exe"),()=>C(()=>import("./executable.a5c29248.js"),["./executable.a5c29248.js","./ImageUtils.e16e1161.js","./BlobReader.f093c455.js"],import.meta.url));ee.addRegistryItem(i=>i.type!=F.File?!1:i.name.endsWith(".mid")||i.name.endsWith(".midi"),()=>C(()=>import("./midi.c16ea388.js"),["./midi.c16ea388.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./EventDispatcher.7485eed3.js"],import.meta.url));ee.addRegistryItem(async i=>{if(i.type!=F.File||!i.name.includes(".dat"))return!1;const e=await i.blob();if(e.size==0)return!0;const n=await e.slice(0,2).arrayBuffer();return new DataView(n).getUint16(0,!1)==8075},()=>C(()=>import("./nbt.97817a35.js"),["./nbt.97817a35.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./nbt.af74b2c7.js","./pako.esm.29d98458.js","../assets/nbt.22a48fef.css"],import.meta.url));ee.addRegistryItem(async i=>i.type!=F.Directory||i.parent!=null&&!i.parent.name.includes(i.name)&&i.parent.name!="saves"?!1:await i.get("level.dat")!==null,()=>C(()=>import("./world.e9f1b7b0.js"),["./world.e9f1b7b0.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./pako.esm.29d98458.js","./nbt.af74b2c7.js","./EventDispatcher.7485eed3.js","../assets/world.f6c65dd6.css"],import.meta.url));ee.addRegistryItem(i=>i.type==F.File&&i.name.endsWith(".rpa"),()=>C(()=>import("./archive.c41bf645.js"),["./archive.c41bf645.js","./pako.esm.29d98458.js","./depickle.7b50937e.js"],import.meta.url));ee.addRegistryItem(i=>i.type!=F.File?!1:i.name.endsWith(".rpyc")||i.name.endsWith(".rpy"),()=>C(()=>import("./script.6c5001c9.js"),["./script.6c5001c9.js","./depickle.7b50937e.js","./pako.esm.29d98458.js","./Code.bab618d2.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","../assets/Code.10b05023.css"],import.meta.url));ee.addRegistryItem(async i=>{if(i.type!=F.File||!i.name.includes(".vtf"))return!1;const e=await i.blob();return e.size==0?!0:await e.slice(0,4).text()=="VTF\0"},()=>C(()=>import("./vtf.cdc88e43.js"),["./vtf.cdc88e43.js","./ImageUtils.e16e1161.js","./ImageView.e3135e86.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","../assets/ImageView.830b7497.css"],import.meta.url));async function pt(i){if(i.viewer!=null)return;let e=await ee.getAllImports(i);e=await Qe.asyncFilter(e,async t=>t.isValid?await t.isValid(i):!0);const n=e.sort((t,r)=>r.priority-t.priority).at(0);if(n&&(i.viewer=n,console.debug(`Found viewer "${i.viewer.namespace}" for "${ye.getPath(i)}"`),i.viewer.transform)){const t=await i.viewer.transform(i);await ye.transform(i,t)}}async function It(i){const e=i.viewer;e!=null&&e.createViewer&&(console.debug(`Opening viewer for "${ye.getPath(i)}"`,i),e.createViewer(i,ft({name:i.name,icon:e.getIcon?await e.getIcon(i):null})))}async function Ye(i){const e=i.viewer;return e==null?null:e.getIcon?await e.getIcon(i):null}function mi(i){return{c:b,l:b,m:b,p:b,d:b}}function _i(i){let e;function n(s,l){return s[2]==null?wi:bi}let t=n(i),r=t(i);return{c(){e=z("div"),r.c(),this.h()},l(s){e=B(s,"DIV",{class:!0});var l=K(e);r.l(l),l.forEach(E),this.h()},h(){I(e,"class","icon-container svelte-6m6qam")},m(s,l){D(s,e,l),r.m(e,null)},p(s,l){t===(t=n(s))&&r?r.p(s,l):(r.d(1),r=t(s),r&&(r.c(),r.m(e,null)))},d(s){s&&E(e),r.d()}}}function bi(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=B(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){re(e.src,n=i[2])||I(e,"src",n),I(e,"alt","File Icon"),I(e,"class","svelte-6m6qam")},m(t,r){D(t,e,r)},p(t,r){r&1&&!re(e.src,n=t[2])&&I(e,"src",n)},d(t){t&&E(e)}}}function wi(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=B(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){re(e.src,n="/asset-viewer/bootstrap-icons/file-earmark.svg")||I(e,"src",n),I(e,"alt","File Icon"),I(e,"class","svelte-6m6qam")},m(t,r){D(t,e,r)},p:b,d(t){t&&E(e)}}}function ki(i){return{c:b,l:b,m:b,p:b,d:b}}function yi(i){let e,n,t,r,s,l=i[0].name+"",a,o,u,c={ctx:i,current:null,token:null,hasCatch:!1,pending:ki,then:_i,catch:mi,value:2};return ce(t=Ye(i[0]),c),{c(){e=z("div"),n=z("div"),c.block.c(),r=pe(),s=z("div"),a=gt(l),this.h()},l(f){e=B(f,"DIV",{class:!0});var h=K(e);n=B(h,"DIV",{class:!0});var p=K(n);c.block.l(p),r=de(p),s=B(p,"DIV",{class:!0});var _=K(s);a=mt(_,l),_.forEach(E),p.forEach(E),h.forEach(E),this.h()},h(){I(s,"class","name svelte-6m6qam"),I(n,"class","title svelte-6m6qam"),I(e,"class","container svelte-6m6qam")},m(f,h){D(f,e,h),X(e,n),c.block.m(n,c.anchor=null),c.mount=()=>n,c.anchor=r,X(n,r),X(n,s),X(s,a),o||(u=we(n,"click",i[1]),o=!0)},p(f,[h]){i=f,c.ctx=i,h&1&&t!==(t=Ye(i[0]))&&ce(t,c)||Ce(c,i,h),h&1&&l!==(l=i[0].name+"")&&_t(a,l)},i:b,o:b,d(f){f&&E(e),c.block.d(),c.token=null,c=null,o=!1,u()}}}function xi(i,e,n){let{file:t}=e;const r=()=>It(t);return i.$$set=s=>{"file"in s&&n(0,t=s.file)},[t,r]}class vi extends Te{constructor(e){super(),Re(this,e,xi,yi,xe,{file:0})}}function Ut(i,e,n){const t=i.slice();return t[8]=e[n],t}function Ei(i){return{c:b,l:b,m:b,p:b,d:b}}function Ii(i){let e;function n(s,l){return s[11]==null?Ri:Ti}let t=n(i),r=t(i);return{c(){e=z("div"),r.c(),this.h()},l(s){e=B(s,"DIV",{class:!0});var l=K(e);r.l(l),l.forEach(E),this.h()},h(){I(e,"class","icon-container svelte-135cnfs")},m(s,l){D(s,e,l),r.m(e,null)},p(s,l){t===(t=n(s))&&r?r.p(s,l):(r.d(1),r=t(s),r&&(r.c(),r.m(e,null)))},d(s){s&&E(e),r.d()}}}function Ti(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=B(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){re(e.src,n=i[11])||I(e,"src",n),I(e,"alt","Directory Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},p(t,r){r&2&&!re(e.src,n=t[11])&&I(e,"src",n)},d(t){t&&E(e)}}}function Ri(i){let e;function n(s,l){return s[3]?s[0]?Ai:Si:Di}let t=n(i),r=t(i);return{c(){r.c(),e=J()},l(s){r.l(s),e=J()},m(s,l){r.m(s,l),D(s,e,l)},p(s,l){t===(t=n(s))&&r?r.p(s,l):(r.d(1),r=t(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&E(e),r.d(s)}}}function Ai(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=B(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){re(e.src,n="/asset-viewer/bootstrap-icons/archive.svg")||I(e,"src",n),I(e,"alt","Directory Archive Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},p:b,d(t){t&&E(e)}}}function Si(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=B(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){re(e.src,n="/asset-viewer/bootstrap-icons/archive-fill.svg")||I(e,"src",n),I(e,"alt","Directory Collapsed Archive Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},p:b,d(t){t&&E(e)}}}function Di(i){let e;function n(s,l){return s[0]?$i:Mi}let t=n(i),r=t(i);return{c(){r.c(),e=J()},l(s){r.l(s),e=J()},m(s,l){r.m(s,l),D(s,e,l)},p(s,l){t!==(t=n(s))&&(r.d(1),r=t(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&E(e),r.d(s)}}}function $i(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=B(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){re(e.src,n="/asset-viewer/bootstrap-icons/folder.svg")||I(e,"src",n),I(e,"alt","Directory Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},d(t){t&&E(e)}}}function Mi(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=B(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){re(e.src,n="/asset-viewer/bootstrap-icons/folder-fill.svg")||I(e,"src",n),I(e,"alt","Directory Collapsed Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},d(t){t&&E(e)}}}function Oi(i){return{c:b,l:b,m:b,p:b,d:b}}function qt(i){let e,n='<img src="/asset-viewer/bootstrap-icons/eye.svg" alt="Open Viewer Icon" class="svelte-135cnfs"/>',t,r;return{c(){e=z("div"),e.innerHTML=n,this.h()},l(s){e=B(s,"DIV",{class:!0,"data-svelte-h":!0}),bt(e)!=="svelte-1fphaay"&&(e.innerHTML=n),this.h()},h(){I(e,"class","create-viewer-icon-container svelte-135cnfs")},m(s,l){D(s,e,l),t||(r=we(e,"click",i[6]),t=!0)},p:b,d(s){s&&E(e),t=!1,r()}}}function Wt(i){let e,n,t=Ft(i[4]),r=[];for(let l=0;l<t.length;l+=1)r[l]=Gt(Ut(i,t,l));const s=l=>ne(r[l],1,1,()=>{r[l]=null});return{c(){e=z("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=B(l,"DIV",{class:!0});var a=K(e);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(E),this.h()},h(){I(e,"class","dir-entries svelte-135cnfs"),ke(e,"hidden",!i[0])},m(l,a){D(l,e,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);n=!0},p(l,a){if(a&16){t=Ft(l[4]);let o;for(o=0;o<t.length;o+=1){const u=Ut(l,t,o);r[o]?(r[o].p(u,a),Y(r[o],1)):(r[o]=Gt(u),r[o].c(),Y(r[o],1),r[o].m(e,null))}for(Be(),o=t.length;o<r.length;o+=1)s(o);Ne()}(!n||a&1)&&ke(e,"hidden",!l[0])},i(l){if(!n){for(let a=0;a<t.length;a+=1)Y(r[a]);n=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)ne(r[a]);n=!1},d(l){l&&E(e),ni(r,l)}}}function Li(i){let e,n;return e=new mn({props:{dir:i[8]}}),{c(){kt(e.$$.fragment)},l(t){yt(e.$$.fragment,t)},m(t,r){xt(e,t,r),n=!0},p(t,r){const s={};r&16&&(s.dir=t[8]),e.$set(s)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){ne(e.$$.fragment,t),n=!1},d(t){vt(e,t)}}}function zi(i){let e,n;return e=new vi({props:{file:i[8]}}),{c(){kt(e.$$.fragment)},l(t){yt(e.$$.fragment,t)},m(t,r){xt(e,t,r),n=!0},p(t,r){const s={};r&16&&(s.file=t[8]),e.$set(s)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){ne(e.$$.fragment,t),n=!1},d(t){vt(e,t)}}}function Gt(i){let e,n,t,r;const s=[zi,Li],l=[];function a(o,u){return o[8].type==F.File?0:o[8].type==F.Directory?1:-1}return~(e=a(i))&&(n=l[e]=s[e](i)),{c(){n&&n.c(),t=J()},l(o){n&&n.l(o),t=J()},m(o,u){~e&&l[e].m(o,u),D(o,t,u),r=!0},p(o,u){let c=e;e=a(o),e===c?~e&&l[e].p(o,u):(n&&(Be(),ne(l[c],1,1,()=>{l[c]=null}),Ne()),~e?(n=l[e],n?n.p(o,u):(n=l[e]=s[e](o),n.c()),Y(n,1),n.m(t.parentNode,t)):n=null)},i(o){r||(Y(n),r=!0)},o(o){ne(n),r=!1},d(o){o&&E(t),~e&&l[e].d(o)}}}function Zt(i){var S,H;let e,n,t,r,s,l=i[1].name+"",a,o,u,c,f,h,p={ctx:i,current:null,token:null,hasCatch:!1,pending:Oi,then:Ii,catch:Ei,value:11};ce(t=Ye(i[1]),p);let _=((H=(S=i[1])==null?void 0:S.viewer)==null?void 0:H.createViewer)&&qt(i),w=i[4]&&i[2]&&Wt(i);return{c(){e=z("div"),n=z("div"),p.block.c(),r=pe(),s=z("div"),a=gt(l),o=pe(),_&&_.c(),u=pe(),w&&w.c(),this.h()},l(P){e=B(P,"DIV",{class:!0});var j=K(e);n=B(j,"DIV",{class:!0});var V=K(n);p.block.l(V),r=de(V),s=B(V,"DIV",{class:!0});var Z=K(s);a=mt(Z,l),Z.forEach(E),o=de(V),_&&_.l(V),V.forEach(E),u=de(j),w&&w.l(j),j.forEach(E),this.h()},h(){I(s,"class","name svelte-135cnfs"),I(n,"class","title svelte-135cnfs"),I(e,"class","container svelte-135cnfs")},m(P,j){D(P,e,j),X(e,n),p.block.m(n,p.anchor=null),p.mount=()=>n,p.anchor=r,X(n,r),X(n,s),X(s,a),X(n,o),_&&_.m(n,null),X(e,u),w&&w.m(e,null),c=!0,f||(h=we(n,"click",i[7]),f=!0)},p(P,j){var V,Z;i=P,p.ctx=i,j&2&&t!==(t=Ye(i[1]))&&ce(t,p)||Ce(p,i,j),(!c||j&2)&&l!==(l=i[1].name+"")&&_t(a,l),(Z=(V=i[1])==null?void 0:V.viewer)!=null&&Z.createViewer?_?_.p(i,j):(_=qt(i),_.c(),_.m(n,null)):_&&(_.d(1),_=null),i[4]&&i[2]?w?(w.p(i,j),j&20&&Y(w,1)):(w=Wt(i),w.c(),Y(w,1),w.m(e,null)):w&&(Be(),ne(w,1,1,()=>{w=null}),Ne())},i(P){c||(Y(w),c=!0)},o(P){ne(w),c=!1},d(P){P&&E(e),p.block.d(),p.token=null,p=null,_&&_.d(),w&&w.d(),f=!1,h()}}}function Bi(i){let e=i[5],n,t,r=Zt(i);return{c(){r.c(),n=J()},l(s){r.l(s),n=J()},m(s,l){r.m(s,l),D(s,n,l),t=!0},p(s,[l]){l&32&&xe(e,e=s[5])?(Be(),ne(r,1,1,b),Ne(),r=Zt(s),r.c(),Y(r,1),r.m(n.parentNode,n)):r.p(s,l)},i(s){t||(Y(r),t=!0)},o(s){ne(r),t=!1},d(s){s&&E(n),r.d(s)}}}function Ni(i,e,n){let{dir:t}=e,r,{expanded:s=!1}=e,l=!1,a,o=0;wt(async()=>{t.parent==null&&(await pt(t),n(5,o++,o));const f=Object.values(await t.list());await Promise.all(f.map(async h=>{try{await pt(h)}catch(p){console.error(p)}})),n(4,a=Object.values(await t.list()).sort((h,p)=>h.name.localeCompare(p.name)+(p.type-h.type)*1e3))});const u=f=>{f.stopPropagation(),It(t)},c=()=>{n(0,s=!s)};return i.$$set=f=>{"dir"in f&&n(1,t=f.dir),"expanded"in f&&n(0,s=f.expanded)},i.$$.update=()=>{var f;i.$$.dirty&2&&n(3,r=((f=t.viewer)==null?void 0:f.transform)!=null),i.$$.dirty&5&&s&&!l&&n(2,l=!0)},[s,t,l,r,a,o,u,c]}class mn extends Te{constructor(e){super(),Re(this,e,Ni,Bi,xe,{dir:1,expanded:0})}}var F=(i=>(i[i.File=1]="File",i[i.Directory=2]="Directory",i))(F||{}),ye;(i=>{function e(h){return h.parent==null?h.type==2?h:null:e(h)}i.root=e;function n(h){let p=h.name;for(;h.parent!=null;)h=h.parent,p=`${h.name}/${p}`;return p}i.getPath=n;function t(h){for(h=h.replace(/[\\\/]/g,"/");h.startsWith("/");)h=h.slice(1);for(;h.endsWith("/");)h=h.slice(0,-1);return h}i.fixPath=t;async function r(h,p){let _=t(p).split("/"),w=h;for(;_.length>1;){const H=_.shift();if(H==null)throw new Error("Catastrophic error that should never happen.");const P=await h.get(H);if(P==null||P.type!=2)return null;w=P}const S=_.shift();if(S==null)throw new Error("Catastrophic error that should never happen.");return await w.get(S)}i.getDeep=r;async function s(h,p,_){const w=t(p).split("/"),S=w.shift();if(S==null)throw new Error("setDeep empty path.");if(w.length==0)await h.set(S,_);else{let H=await h.get(S);if(H==null)H=new c(S,h),await h.set(S,H);else if(H.type!=2)throw new Error("setDeep encountered a file.");await s(H,w.join("/"),_)}}i.setDeep=s;async function l(h,p){return h.parent==null?(console.warn("Could not transform, Entry has no parent."),p):(p==null?await h.parent.set(h.name,null):(p.viewer=h.viewer,p.name=h.name,p.parent=h.parent,await h.parent.set(h.name,p)),p)}i.transform=l;async function a(h,p){let _=[h];for(;_.length>0;){const w=_.pop();if(w==null)break;const S=Object.entries(await w.list());for(const[H,P]of S){const j=i.getPath(P),V=await p(j,P),Z=await w.get(H);Z!=null&&Z.type==2&&(V===void 0||V===!0)&&_.push(Z)}}}i.forEachDeep=a;class o{constructor(p,_,w){k(this,"viewer",null);k(this,"type",1);k(this,"name");k(this,"parent");k(this,"_blob");this._blob=p,this.name=_,this.parent=w}async blob(){return this._blob}async buffer(){return await this._blob.arrayBuffer()}}i.fsFile_Blob=o;class u{constructor(p,_,w){k(this,"viewer",null);k(this,"type",1);k(this,"name");k(this,"parent");k(this,"url");k(this,"cachedBlob",null);this.url=p,this.name=w??this.url.slice(this.url.lastIndexOf("/")+1),this.parent=_}async blob(){return this.cachedBlob==null&&(this.cachedBlob=await(await fetch(this.url)).blob()),this.cachedBlob}async buffer(){return await(await this.blob()).arrayBuffer()}}i.fsFile_Fetch=u;class c{constructor(p,_,w={}){k(this,"viewer",null);k(this,"type",2);k(this,"name");k(this,"parent");k(this,"entries");this.name=p,this.parent=_,this.entries=w}async list(){return{...this.entries}}async get(p){return this.entries[p]??null}async set(p,_){_==null?delete this.entries[p]:(_.parent=this,this.entries[p]=_)}}i.fsDirectory_Container=c;function f(h,p=2){if(p<0)throw new Error("Format decimal argument.");if(h<0)throw new Error("Cannot format a negative size.");if(h==0)return"0 Bytes";if(h==1)return"1 Byte";const _=1024,w=["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],S=Math.floor(Math.log(h)/Math.log(_));return`${parseFloat((h/Math.pow(_,S)).toFixed(p))} ${w[S]}`}i.formatSize=f})(ye||(ye={}));async function Ci(i){const e=i.createReader();let n={},t=0;do{let r=await new Promise(s=>{e.readEntries(s)});t=r.length;for(const s of r)n[s.name]=s}while(t>0);return n}class Tt{constructor(e,n="ROOT",t=null){k(this,"type",F.Directory);k(this,"viewer",null);k(this,"evaluated",!1);k(this,"name");k(this,"parent");k(this,"transfer");k(this,"initialized",!1);k(this,"entries",{});this.transfer=e,this.name=n,this.parent=t}async init(){if(this.initialized)return;const e=await Ci(this.transfer);this.entries={};for(const n in e){const t=e[n];if(t.isFile){const r=await new Promise(s=>t.file(s));this.entries[n]=new ye.fsFile_Blob(r,n,this)}else if(t.isDirectory){const r=t;this.entries[n]=new Tt(r,n,this)}}this.initialized=!0}async list(){return this.initialized||await this.init(),{...this.entries}}async get(e){return this.initialized||await this.init(),this.entries[e]??null}async set(e,n){this.initialized||await this.init(),n==null?delete this.entries[e]:(n.parent=this,this.entries[e]=n)}}function Pi(i){let e,n,t=`<div class="dropzone-content svelte-r6lkz9"><div class="dropzone-text svelte-r6lkz9">File Dropzone
            <br/></div></div>`,r,s;return{c(){e=pe(),n=z("div"),n.innerHTML=t,this.h()},l(l){e=de(l),n=B(l,"DIV",{class:!0,"data-svelte-h":!0}),bt(n)!=="svelte-16pzcnp"&&(n.innerHTML=t),this.h()},h(){I(n,"class","file-dropzone svelte-r6lkz9"),ke(n,"visible",i[0])},m(l,a){D(l,e,a),D(l,n,a),r||(s=[we(document.body,"dragover",i[1]),we(document.body,"dragleave",i[2]),we(document.body,"drop",i[3])],r=!0)},p(l,[a]){a&1&&ke(n,"visible",l[0])},i:b,o:b,d(l){l&&(E(e),E(n)),r=!1,ii(s)}}}function Kt(i){return i==null?!1:i.types.length==1&&i.types[0]=="Files"}function ji(i,e,n){const t=pn();let r=!1;function s(o){o.dataTransfer!=null&&Kt(o.dataTransfer)&&(o.preventDefault(),n(0,r=!0))}function l(o){o.fromElement==null&&n(0,r=!1)}async function a(o){o.preventDefault(),n(0,r=!1);const u=o.dataTransfer;if(u==null||!Kt(u))return;const c=u.items[0].webkitGetAsEntry();if(c!=null){if(c.isDirectory){const f=c;t("dropentry",new Tt(f,f.name))}else if(c.isFile){const f=await new Promise(h=>c.file(h));t("dropentry",new ye.fsFile_Blob(f,f.name,null))}}}return[r,s,l,a]}class Fi extends Te{constructor(e){super(),Re(this,e,ji,Pi,xe,{})}}function Rt(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ae=Rt();function _n(i){Ae=i}const bn=/[&<>"']/,Vi=new RegExp(bn.source,"g"),wn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Hi=new RegExp(wn.source,"g"),Ui={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xt=i=>Ui[i];function G(i,e){if(e){if(bn.test(i))return i.replace(Vi,Xt)}else if(wn.test(i))return i.replace(Hi,Xt);return i}const qi=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function kn(i){return i.replace(qi,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const Wi=/(^|[^\[])\^/g;function $(i,e){i=typeof i=="string"?i:i.source,e=e||"";const n={replace:(t,r)=>(r=typeof r=="object"&&"source"in r?r.source:r,r=r.replace(Wi,"$1"),i=i.replace(t,r),n),getRegex:()=>new RegExp(i,e)};return n}const Gi=/[^\w:]/g,Zi=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Qt(i,e,n){if(i){let t;try{t=decodeURIComponent(kn(n)).replace(Gi,"").toLowerCase()}catch{return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}e&&!Zi.test(n)&&(n=Yi(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const We={},Ki=/^[^:]+:\/*[^/]*$/,Xi=/^([^:]+:)[\s\S]*$/,Qi=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Yi(i,e){We[" "+i]||(Ki.test(i)?We[" "+i]=i+"/":We[" "+i]=Ze(i,"/",!0)),i=We[" "+i];const n=i.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:i.replace(Xi,"$1")+e:e.charAt(0)==="/"?n?e:i.replace(Qi,"$1")+e:i+e}const Je={exec:()=>null};function Yt(i,e){const n=i.replace(/\|/g,(s,l,a)=>{let o=!1,u=l;for(;--u>=0&&a[u]==="\\";)o=!o;return o?"|":" |"}),t=n.split(/ \|/);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function Ze(i,e,n){const t=i.length;if(t===0)return"";let r=0;for(;r<t;){const s=i.charAt(t-r-1);if(s===e&&!n)r++;else if(s!==e&&n)r++;else break}return i.slice(0,t-r)}function Ji(i,e){if(i.indexOf(e[1])===-1)return-1;let n=0;for(let t=0;t<i.length;t++)if(i[t]==="\\")t++;else if(i[t]===e[0])n++;else if(i[t]===e[1]&&(n--,n<0))return t;return-1}function er(i,e){!i||i.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(i.sanitize||i.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(i.highlight||i.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),i.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),i.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),i.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),i.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(i.headerIds||i.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function Jt(i,e,n,t){const r=e.href,s=e.title?G(e.title):null,l=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){t.state.inLink=!0;const a={type:"link",raw:n,href:r,title:s,text:l,tokens:t.inlineTokens(l)};return t.state.inLink=!1,a}return{type:"image",raw:n,href:r,title:s,text:G(l)}}function tr(i,e){const n=i.match(/^(\s+)(?:```)/);if(n===null)return e;const t=n[1];return e.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[l]=s;return l.length>=t.length?r.slice(t.length):r}).join(`
`)}class et{constructor(e){k(this,"options");k(this,"rules");k(this,"lexer");this.options=e||Ae}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const t=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Ze(t,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const t=n[0],r=tr(t,n[3]||"");return{type:"code",raw:t,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let t=n[2].trim();if(/#$/.test(t)){const r=Ze(t,"#");(this.options.pedantic||!r||/ $/.test(r))&&(t=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const t=n[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(t);return this.lexer.state.top=r,{type:"blockquote",raw:n[0],tokens:s,text:t}}}list(e){let n=this.rules.block.list.exec(e);if(n){let t=n[1].trim();const r=t.length>1,s={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");const l=new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",o="",u=!1;for(;e;){let c=!1;if(!(n=l.exec(e))||this.rules.block.hr.test(e))break;a=n[0],e=e.substring(a.length);let f=n[2].split(`
`,1)[0].replace(/^\t+/,H=>" ".repeat(3*H.length)),h=e.split(`
`,1)[0],p=0;this.options.pedantic?(p=2,o=f.trimLeft()):(p=n[2].search(/[^ ]/),p=p>4?1:p,o=f.slice(p),p+=n[1].length);let _=!1;if(!f&&/^ *$/.test(h)&&(a+=h+`
`,e=e.substring(h.length+1),c=!0),!c){const H=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),P=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),j=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),V=new RegExp(`^ {0,${Math.min(3,p-1)}}#`);for(;e;){const Z=e.split(`
`,1)[0];if(h=Z,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),j.test(h)||V.test(h)||H.test(h)||P.test(e))break;if(h.search(/[^ ]/)>=p||!h.trim())o+=`
`+h.slice(p);else{if(_||f.search(/[^ ]/)>=4||j.test(f)||V.test(f)||P.test(f))break;o+=`
`+h}!_&&!h.trim()&&(_=!0),a+=Z+`
`,e=e.substring(Z.length+1),f=h.slice(p)}}s.loose||(u?s.loose=!0:/\n *\n *$/.test(a)&&(u=!0));let w=null,S;this.options.gfm&&(w=/^\[[ xX]\] /.exec(o),w&&(S=w[0]!=="[ ] ",o=o.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!w,checked:S,loose:!1,text:o,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimRight(),s.items[s.items.length-1].text=o.trimRight(),s.raw=s.raw.trimRight();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){const f=s.items[c].tokens.filter(p=>p.type==="space"),h=f.length>0&&f.some(p=>/\n.*\n/.test(p.raw));s.loose=h}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n){const t={type:"html",block:!0,raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(n[0]):G(n[0]),s=t;s.type="paragraph",s.text=r,s.tokens=this.lexer.inline(r)}return t}}def(e){const n=this.rules.block.def.exec(e);if(n){const t=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:t,raw:n[0],href:r,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const t={type:"table",raw:n[0],header:Yt(n[1]).map(r=>({text:r,tokens:[]})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){let r=t.align.length,s,l,a,o;for(s=0;s<r;s++){const u=t.align[s];u&&(/^ *-+: *$/.test(u)?t.align[s]="right":/^ *:-+: *$/.test(u)?t.align[s]="center":/^ *:-+ *$/.test(u)?t.align[s]="left":t.align[s]=null)}for(r=t.rows.length,s=0;s<r;s++)t.rows[s]=Yt(t.rows[s],t.header.length).map(u=>({text:u,tokens:[]}));for(r=t.header.length,l=0;l<r;l++)t.header[l].tokens=this.lexer.inline(t.header[l].text);for(r=t.rows.length,l=0;l<r;l++)for(o=t.rows[l],a=0;a<o.length;a++)o[a].tokens=this.lexer.inline(o[a].text);return t}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const t=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:t,tokens:this.lexer.inline(t)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:G(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):G(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const t=n[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const l=Ze(t.slice(0,-1),"\\");if((t.length-l.length)%2===0)return}else{const l=Ji(n[2],"()");if(l>-1){const o=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let r=n[2],s="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);l&&(r=l[1],s=l[3])}else s=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(t)?r=r.slice(1):r=r.slice(1,-1)),Jt(n,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let r=(t[2]||t[1]).replace(/\s+/g," ");if(r=n[r.toLowerCase()],!r){const s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return Jt(t,r,t[0],this.lexer)}}emStrong(e,n,t=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const l=[...r[0]].length-1;let a,o,u=l,c=0;const f=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+l);(r=f.exec(n))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){u+=o;continue}else if((r[5]||r[6])&&l%3&&!((l+o)%3)){c+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+c);const h=[...e].slice(0,l+r.index+o+1).join("");if(Math.min(l,o)%2){const _=h.slice(1,-1);return{type:"em",raw:h,text:_,tokens:this.lexer.inlineTokens(_)}}const p=h.slice(2,-2);return{type:"strong",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let t=n[2].replace(/\n/g," ");const r=/[^ ]/.test(t),s=/^ /.test(t)&&/ $/.test(t);return r&&s&&(t=t.substring(1,t.length-1)),t=G(t,!0),{type:"codespan",raw:n[0],text:t}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=G(this.options.mangle?n(t[1]):t[1]),s="mailto:"+r):(r=G(t[1]),s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e,n){let t;if(t=this.rules.inline.url.exec(e)){let r,s;if(t[2]==="@")r=G(this.options.mangle?n(t[0]):t[0]),s="mailto:"+r;else{let l;do l=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(l!==t[0]);r=G(t[0]),t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,n){const t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):G(t[0]):t[0]:r=G(this.options.smartypants?n(t[0]):t[0]),{type:"text",raw:t[0],text:r}}}}const x={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Je,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};x._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;x._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;x.def=$(x.def).replace("label",x._label).replace("title",x._title).getRegex();x.bullet=/(?:[*+-]|\d{1,9}[.)])/;x.listItemStart=$(/^( *)(bull) */).replace("bull",x.bullet).getRegex();x.list=$(x.list).replace(/bull/g,x.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x.def.source+")").getRegex();x._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";x._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;x.html=$(x.html,"i").replace("comment",x._comment).replace("tag",x._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();x.lheading=$(x.lheading).replace(/bull/g,x.bullet).getRegex();x.paragraph=$(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex();x.blockquote=$(x.blockquote).replace("paragraph",x.paragraph).getRegex();x.normal={...x};x.gfm={...x.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};x.gfm.table=$(x.gfm.table).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex();x.gfm.paragraph=$(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",x.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex();x.pedantic={...x.normal,html:$(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",x._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Je,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:$(x.normal._paragraph).replace("hr",x.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",x.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const m={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Je,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Je,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};m._punctuation="\\p{P}$+<=>`^|~";m.punctuation=$(m.punctuation,"u").replace(/punctuation/g,m._punctuation).getRegex();m.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;m.anyPunctuation=/\\[punct]/g;m._escapes=/\\([punct])/g;m._comment=$(x._comment).replace("(?:-->|$)","-->").getRegex();m.emStrong.lDelim=$(m.emStrong.lDelim,"u").replace(/punct/g,m._punctuation).getRegex();m.emStrong.rDelimAst=$(m.emStrong.rDelimAst,"gu").replace(/punct/g,m._punctuation).getRegex();m.emStrong.rDelimUnd=$(m.emStrong.rDelimUnd,"gu").replace(/punct/g,m._punctuation).getRegex();m.anyPunctuation=$(m.anyPunctuation,"gu").replace(/punct/g,m._punctuation).getRegex();m._escapes=$(m._escapes,"gu").replace(/punct/g,m._punctuation).getRegex();m._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;m._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;m.autolink=$(m.autolink).replace("scheme",m._scheme).replace("email",m._email).getRegex();m._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;m.tag=$(m.tag).replace("comment",m._comment).replace("attribute",m._attribute).getRegex();m._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;m._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;m._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;m.link=$(m.link).replace("label",m._label).replace("href",m._href).replace("title",m._title).getRegex();m.reflink=$(m.reflink).replace("label",m._label).replace("ref",x._label).getRegex();m.nolink=$(m.nolink).replace("ref",x._label).getRegex();m.reflinkSearch=$(m.reflinkSearch,"g").replace("reflink",m.reflink).replace("nolink",m.nolink).getRegex();m.normal={...m};m.pedantic={...m.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:$(/^!?\[(label)\]\((.*?)\)/).replace("label",m._label).getRegex(),reflink:$(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",m._label).getRegex()};m.gfm={...m.normal,escape:$(m.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};m.gfm.url=$(m.gfm.url,"i").replace("email",m.gfm._extended_email).getRegex();m.breaks={...m.gfm,br:$(m.br).replace("{2,}","*").getRegex(),text:$(m.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function nr(i){return i.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function en(i){let e="";for(let n=0;n<i.length;n++){const t=Math.random()>.5?"x"+i.charCodeAt(n).toString(16):i.charCodeAt(n).toString();e+="&#"+t+";"}return e}class ae{constructor(e){k(this,"tokens");k(this,"options");k(this,"state");k(this,"tokenizer");k(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ae,this.options.tokenizer=this.options.tokenizer||new et,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:x.normal,inline:m.normal};this.options.pedantic?(n.block=x.pedantic,n.inline=m.pedantic):this.options.gfm&&(n.block=x.gfm,this.options.breaks?n.inline=m.breaks:n.inline=m.gfm),this.tokenizer.rules=n}static get rules(){return{block:x,inline:m}}static lex(e,n){return new ae(n).lex(e)}static lexInline(e,n){return new ae(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,o,u)=>o+"    ".repeat(u.length));let t,r,s,l;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(t=a.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),t.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const o=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},o),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(t=this.tokenizer.paragraph(s))){r=n[n.length-1],l&&r.type==="paragraph"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t),l=s.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&r.type==="text"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let t,r,s,l=e,a,o,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,a.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(u=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(t=c.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),r=n[n.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(t=this.tokenizer.emStrong(e,l,u)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.autolink(e,en)){e=e.substring(t.raw.length),n.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e,en))){e=e.substring(t.raw.length),n.push(t);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const f=e.slice(1);let h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},f),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(s=e.substring(0,c+1))}if(t=this.tokenizer.inlineText(s,nr)){e=e.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(u=t.raw.slice(-1)),o=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class tt{constructor(e){k(this,"options");this.options=e||Ae}code(e,n,t){var s;const r=(s=(n||"").match(/^\S*/))==null?void 0:s[0];if(this.options.highlight){const l=this.options.highlight(e,r);l!=null&&l!==e&&(t=!0,e=l)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+G(r)+'">'+(t?e:G(e,!0))+`</code></pre>
`:"<pre><code>"+(t?e:G(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,t,r){if(this.options.headerIds){const s=this.options.headerPrefix+r.slug(t);return`<h${n} id="${s}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,t){const r=n?"ol":"ul",s=n&&t!==1?' start="'+t+'"':"";return"<"+r+s+`>
`+e+"</"+r+`>
`}listitem(e,n,t){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,t){const r=Qt(this.options.sanitize,this.options.baseUrl,e);if(r===null)return t;e=r;let s='<a href="'+e+'"';return n&&(s+=' title="'+n+'"'),s+=">"+t+"</a>",s}image(e,n,t){const r=Qt(this.options.sanitize,this.options.baseUrl,e);if(r===null)return t;e=r;let s=`<img src="${e}" alt="${t}"`;return n&&(s+=` title="${n}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class At{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,t){return""+t}image(e,n,t){return""+t}br(){return""}}class St{constructor(){k(this,"seen");this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let t=e,r=0;if(this.seen.hasOwnProperty(t)){r=this.seen[e];do r++,t=e+"-"+r;while(this.seen.hasOwnProperty(t))}return n||(this.seen[e]=r,this.seen[t]=0),t}slug(e,n={}){const t=this.serialize(e);return this.getNextSafeSlug(t,n.dryrun)}}class oe{constructor(e){k(this,"options");k(this,"renderer");k(this,"textRenderer");k(this,"slugger");this.options=e||Ae,this.options.renderer=this.options.renderer||new tt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new At,this.slugger=new St}static parse(e,n){return new oe(n).parse(e)}static parseInline(e,n){return new oe(n).parseInline(e)}parse(e,n=!0){let t="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=s,a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){t+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{const l=s;t+=this.renderer.heading(this.parseInline(l.tokens),l.depth,kn(this.parseInline(l.tokens,this.textRenderer)),this.slugger);continue}case"code":{const l=s;t+=this.renderer.code(l.text,l.lang,!!l.escaped);continue}case"table":{const l=s;let a="",o="";for(let c=0;c<l.header.length;c++)o+=this.renderer.tablecell(this.parseInline(l.header[c].tokens),{header:!0,align:l.align[c]});a+=this.renderer.tablerow(o);let u="";for(let c=0;c<l.rows.length;c++){const f=l.rows[c];o="";for(let h=0;h<f.length;h++)o+=this.renderer.tablecell(this.parseInline(f[h].tokens),{header:!1,align:l.align[h]});u+=this.renderer.tablerow(o)}t+=this.renderer.table(a,u);continue}case"blockquote":{const l=s,a=this.parse(l.tokens);t+=this.renderer.blockquote(a);continue}case"list":{const l=s,a=l.ordered,o=l.start,u=l.loose;let c="";for(let f=0;f<l.items.length;f++){const h=l.items[f],p=h.checked,_=h.task;let w="";if(h.task){const S=this.renderer.checkbox(!!p);u?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=S+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=S+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:S}):w+=S}w+=this.parse(h.tokens,u),c+=this.renderer.listitem(w,_,!!p)}t+=this.renderer.list(c,a,o);continue}case"html":{const l=s;t+=this.renderer.html(l.text,l.block);continue}case"paragraph":{const l=s;t+=this.renderer.paragraph(this.parseInline(l.tokens));continue}case"text":{let l=s,a=l.tokens?this.parseInline(l.tokens):l.text;for(;r+1<e.length&&e[r+1].type==="text";)l=e[++r],a+=`
`+(l.tokens?this.parseInline(l.tokens):l.text);t+=n?this.renderer.paragraph(a):a;continue}default:{const l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return t}parseInline(e,n){n=n||this.renderer;let t="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){t+=l||"";continue}}switch(s.type){case"escape":{const l=s;t+=n.text(l.text);break}case"html":{const l=s;t+=n.html(l.text);break}case"link":{const l=s;t+=n.link(l.href,l.title,this.parseInline(l.tokens,n));break}case"image":{const l=s;t+=n.image(l.href,l.title,l.text);break}case"strong":{const l=s;t+=n.strong(this.parseInline(l.tokens,n));break}case"em":{const l=s;t+=n.em(this.parseInline(l.tokens,n));break}case"codespan":{const l=s;t+=n.codespan(l.text);break}case"br":{t+=n.br();break}case"del":{const l=s;t+=n.del(this.parseInline(l.tokens,n));break}case"text":{const l=s;t+=n.text(l.text);break}default:{const l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return t}}class Me{constructor(e){k(this,"options");this.options=e||Ae}preprocess(e){return e}postprocess(e){return e}}k(Me,"passThroughHooks",new Set(["preprocess","postprocess"]));var ze,dt,it,xn;class yn{constructor(...e){ot(this,ze);ot(this,it);k(this,"defaults",Rt());k(this,"options",this.setOptions);k(this,"parse",He(this,ze,dt).call(this,ae.lex,oe.parse));k(this,"parseInline",He(this,ze,dt).call(this,ae.lexInline,oe.parseInline));k(this,"Parser",oe);k(this,"parser",oe.parse);k(this,"Renderer",tt);k(this,"TextRenderer",At);k(this,"Lexer",ae);k(this,"lexer",ae.lex);k(this,"Tokenizer",et);k(this,"Slugger",St);k(this,"Hooks",Me);this.use(...e)}walkTokens(e,n){var r,s;let t=[];for(const l of e)switch(t=t.concat(n.call(this,l)),l.type){case"table":{const a=l;for(const o of a.header)t=t.concat(this.walkTokens(o.tokens,n));for(const o of a.rows)for(const u of o)t=t.concat(this.walkTokens(u.tokens,n));break}case"list":{const a=l;t=t.concat(this.walkTokens(a.items,n));break}default:{const a=l;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{t=t.concat(this.walkTokens(a[o],n))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,n)))}}return t}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const l=n.renderers[s.name];l?n.renderers[s.name]=function(...a){let o=s.renderer.apply(this,a);return o===!1&&(o=l.apply(this,a)),o}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const l=n[s.level];l?l.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),r.extensions=n),t.renderer){const s=this.defaults.renderer||new tt(this.defaults);for(const l in t.renderer){const a=t.renderer[l],o=l,u=s[o];s[o]=(...c)=>{let f=a.apply(s,c);return f===!1&&(f=u.apply(s,c)),f||""}}r.renderer=s}if(t.tokenizer){const s=this.defaults.tokenizer||new et(this.defaults);for(const l in t.tokenizer){const a=t.tokenizer[l],o=l,u=s[o];s[o]=(...c)=>{let f=a.apply(s,c);return f===!1&&(f=u.apply(s,c)),f}}r.tokenizer=s}if(t.hooks){const s=this.defaults.hooks||new Me;for(const l in t.hooks){const a=t.hooks[l],o=l,u=s[o];Me.passThroughHooks.has(l)?s[o]=c=>{if(this.defaults.async)return Promise.resolve(a.call(s,c)).then(h=>u.call(s,h));const f=a.call(s,c);return u.call(s,f)}:s[o]=(...c)=>{let f=a.apply(s,c);return f===!1&&(f=u.apply(s,c)),f}}r.hooks=s}if(t.walkTokens){const s=this.defaults.walkTokens,l=t.walkTokens;r.walkTokens=function(a){let o=[];return o.push(l.call(this,a)),s&&(o=o.concat(s.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}ze=new WeakSet,dt=function(e,n){return(t,r,s)=>{typeof r=="function"&&(s=r,r=null);const l={...r},a={...this.defaults,...l};this.defaults.async===!0&&l.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const o=He(this,it,xn).call(this,!!a.silent,!!a.async,s);if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(er(a,s),a.hooks&&(a.hooks.options=a),s){const u=s,c=a.highlight;let f;try{a.hooks&&(t=a.hooks.preprocess(t)),f=e(t,a)}catch(_){return o(_)}const h=_=>{let w;if(!_)try{a.walkTokens&&this.walkTokens(f,a.walkTokens),w=n(f,a),a.hooks&&(w=a.hooks.postprocess(w))}catch(S){_=S}return a.highlight=c,_?o(_):u(null,w)};if(!c||c.length<3||(delete a.highlight,!f.length))return h();let p=0;this.walkTokens(f,_=>{_.type==="code"&&(p++,setTimeout(()=>{c(_.text,_.lang,(w,S)=>{if(w)return h(w);S!=null&&S!==_.text&&(_.text=S,_.escaped=!0),p--,p===0&&h()})},0))}),p===0&&h();return}if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(t):t).then(u=>e(u,a)).then(u=>a.walkTokens?Promise.all(this.walkTokens(u,a.walkTokens)).then(()=>u):u).then(u=>n(u,a)).then(u=>a.hooks?a.hooks.postprocess(u):u).catch(o);try{a.hooks&&(t=a.hooks.preprocess(t));const u=e(t,a);a.walkTokens&&this.walkTokens(u,a.walkTokens);let c=n(u,a);return a.hooks&&(c=a.hooks.postprocess(c)),c}catch(u){return o(u)}}},it=new WeakSet,xn=function(e,n,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+G(r.message+"",!0)+"</pre>";if(n)return Promise.resolve(s);if(t){t(null,s);return}return s}if(n)return Promise.reject(r);if(t){t(r);return}throw r}};const Ie=new yn;function O(i,e,n){return Ie.parse(i,e,n)}O.options=O.setOptions=function(i){return Ie.setOptions(i),O.defaults=Ie.defaults,_n(O.defaults),O};O.getDefaults=Rt;O.defaults=Ae;O.use=function(...i){return Ie.use(...i),O.defaults=Ie.defaults,_n(O.defaults),O};O.walkTokens=function(i,e){return Ie.walkTokens(i,e)};O.parseInline=Ie.parseInline;O.Parser=oe;O.parser=oe.parse;O.Renderer=tt;O.TextRenderer=At;O.Lexer=ae;O.lexer=ae.lex;O.Tokenizer=et;O.Slugger=St;O.Hooks=Me;O.parse=O;O.options;O.setOptions;O.use;O.walkTokens;O.parseInline;oe.parse;ae.lex;function ir(i){if(typeof i=="function"&&(i={highlight:i}),!i||typeof i.highlight!="function")throw new Error("Must provide highlight function");return typeof i.langPrefix!="string"&&(i.langPrefix="language-"),{async:!!i.async,walkTokens(e){if(e.type!=="code")return;const n=rr(e);if(i.async)return Promise.resolve(i.highlight(e.text,n)).then(tn(e));const t=i.highlight(e.text,n);if(t instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");tn(e)(t)},renderer:{code(e,n,t){const r=(n||"").match(/\S*/)[0],s=r?` class="${i.langPrefix}${rn(r)}"`:"";return e=e.replace(/\n$/,""),`<pre><code${s}>${t?e:rn(e,!0)}
</code></pre>`}}}}function rr(i){return(i.lang||"").match(/\S*/)[0]}function tn(i){return e=>{typeof e=="string"&&e!==i.text&&(i.escaped=!0,i.text=e)}}const vn=/[&<>"']/,sr=new RegExp(vn.source,"g"),En=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,lr=new RegExp(En.source,"g"),ar={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nn=i=>ar[i];function rn(i,e){if(e){if(vn.test(i))return i.replace(sr,nn)}else if(En.test(i))return i.replace(lr,nn);return i}function or(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function In(i){return i instanceof Map?i.clear=i.delete=i.set=function(){throw new Error("map is read-only")}:i instanceof Set&&(i.add=i.clear=i.delete=function(){throw new Error("set is read-only")}),Object.freeze(i),Object.getOwnPropertyNames(i).forEach(e=>{const n=i[e],t=typeof n;(t==="object"||t==="function")&&!Object.isFrozen(n)&&In(n)}),i}class sn{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Tn(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function be(i,...e){const n=Object.create(null);for(const t in i)n[t]=i[t];return e.forEach(function(t){for(const r in t)n[r]=t[r]}),n}const cr="</span>",ln=i=>!!i.scope,ur=(i,{prefix:e})=>{if(i.startsWith("language:"))return i.replace("language:","language-");if(i.includes(".")){const n=i.split(".");return[`${e}${n.shift()}`,...n.map((t,r)=>`${t}${"_".repeat(r+1)}`)].join(" ")}return`${e}${i}`};class hr{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=Tn(e)}openNode(e){if(!ln(e))return;const n=ur(e.scope,{prefix:this.classPrefix});this.span(n)}closeNode(e){ln(e)&&(this.buffer+=cr)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const an=(i={})=>{const e={children:[]};return Object.assign(e,i),e};class Dt{constructor(){this.rootNode=an(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=an({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(t=>this._walk(e,t)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{Dt._collapse(n)}))}}class fr extends Dt{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,n){const t=e.root;n&&(t.scope=`language:${n}`),this.add(t)}toHTML(){return new hr(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Oe(i){return i?typeof i=="string"?i:i.source:null}function Rn(i){return Se("(?=",i,")")}function pr(i){return Se("(?:",i,")*")}function dr(i){return Se("(?:",i,")?")}function Se(...i){return i.map(n=>Oe(n)).join("")}function gr(i){const e=i[i.length-1];return typeof e=="object"&&e.constructor===Object?(i.splice(i.length-1,1),e):{}}function $t(...i){return"("+(gr(i).capture?"":"?:")+i.map(t=>Oe(t)).join("|")+")"}function An(i){return new RegExp(i.toString()+"|").exec("").length-1}function mr(i,e){const n=i&&i.exec(e);return n&&n.index===0}const _r=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Mt(i,{joinWith:e}){let n=0;return i.map(t=>{n+=1;const r=n;let s=Oe(t),l="";for(;s.length>0;){const a=_r.exec(s);if(!a){l+=s;break}l+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?l+="\\"+String(Number(a[1])+r):(l+=a[0],a[0]==="("&&n++)}return l}).map(t=>`(${t})`).join(e)}const br=/\b\B/,Sn="[a-zA-Z]\\w*",Ot="[a-zA-Z_]\\w*",Dn="\\b\\d+(\\.\\d+)?",$n="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Mn="\\b(0b[01]+)",wr="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",kr=(i={})=>{const e=/^#![ ]*\//;return i.binary&&(i.begin=Se(e,/.*\b/,i.binary,/\b.*/)),be({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,t)=>{n.index!==0&&t.ignoreMatch()}},i)},Le={begin:"\\\\[\\s\\S]",relevance:0},yr={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Le]},xr={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Le]},vr={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},rt=function(i,e,n={}){const t=be({scope:"comment",begin:i,end:e,contains:[]},n);t.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=$t("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return t.contains.push({begin:Se(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),t},Er=rt("//","$"),Ir=rt("/\\*","\\*/"),Tr=rt("#","$"),Rr={scope:"number",begin:Dn,relevance:0},Ar={scope:"number",begin:$n,relevance:0},Sr={scope:"number",begin:Mn,relevance:0},Dr={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Le,{begin:/\[/,end:/\]/,relevance:0,contains:[Le]}]}]},$r={scope:"title",begin:Sn,relevance:0},Mr={scope:"title",begin:Ot,relevance:0},Or={begin:"\\.\\s*"+Ot,relevance:0},Lr=function(i){return Object.assign(i,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var Ge=Object.freeze({__proto__:null,MATCH_NOTHING_RE:br,IDENT_RE:Sn,UNDERSCORE_IDENT_RE:Ot,NUMBER_RE:Dn,C_NUMBER_RE:$n,BINARY_NUMBER_RE:Mn,RE_STARTERS_RE:wr,SHEBANG:kr,BACKSLASH_ESCAPE:Le,APOS_STRING_MODE:yr,QUOTE_STRING_MODE:xr,PHRASAL_WORDS_MODE:vr,COMMENT:rt,C_LINE_COMMENT_MODE:Er,C_BLOCK_COMMENT_MODE:Ir,HASH_COMMENT_MODE:Tr,NUMBER_MODE:Rr,C_NUMBER_MODE:Ar,BINARY_NUMBER_MODE:Sr,REGEXP_MODE:Dr,TITLE_MODE:$r,UNDERSCORE_TITLE_MODE:Mr,METHOD_GUARD:Or,END_SAME_AS_BEGIN:Lr});function zr(i,e){i.input[i.index-1]==="."&&e.ignoreMatch()}function Br(i,e){i.className!==void 0&&(i.scope=i.className,delete i.className)}function Nr(i,e){e&&i.beginKeywords&&(i.begin="\\b("+i.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",i.__beforeBegin=zr,i.keywords=i.keywords||i.beginKeywords,delete i.beginKeywords,i.relevance===void 0&&(i.relevance=0))}function Cr(i,e){Array.isArray(i.illegal)&&(i.illegal=$t(...i.illegal))}function Pr(i,e){if(i.match){if(i.begin||i.end)throw new Error("begin & end are not supported with match");i.begin=i.match,delete i.match}}function jr(i,e){i.relevance===void 0&&(i.relevance=1)}const Fr=(i,e)=>{if(!i.beforeMatch)return;if(i.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},i);Object.keys(i).forEach(t=>{delete i[t]}),i.keywords=n.keywords,i.begin=Se(n.beforeMatch,Rn(n.begin)),i.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},i.relevance=0,delete n.beforeMatch},Vr=["of","and","for","in","not","or","if","then","parent","list","value"],Hr="keyword";function On(i,e,n=Hr){const t=Object.create(null);return typeof i=="string"?r(n,i.split(" ")):Array.isArray(i)?r(n,i):Object.keys(i).forEach(function(s){Object.assign(t,On(i[s],e,s))}),t;function r(s,l){e&&(l=l.map(a=>a.toLowerCase())),l.forEach(function(a){const o=a.split("|");t[o[0]]=[s,Ur(o[0],o[1])]})}}function Ur(i,e){return e?Number(e):qr(i)?0:1}function qr(i){return Vr.includes(i.toLowerCase())}const on={},Ee=i=>{console.error(i)},cn=(i,...e)=>{console.log(`WARN: ${i}`,...e)},De=(i,e)=>{on[`${i}/${e}`]||(console.log(`Deprecated as of ${i}. ${e}`),on[`${i}/${e}`]=!0)},nt=new Error;function Ln(i,e,{key:n}){let t=0;const r=i[n],s={},l={};for(let a=1;a<=e.length;a++)l[a+t]=r[a],s[a+t]=!0,t+=An(e[a-1]);i[n]=l,i[n]._emit=s,i[n]._multi=!0}function Wr(i){if(Array.isArray(i.begin)){if(i.skip||i.excludeBegin||i.returnBegin)throw Ee("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),nt;if(typeof i.beginScope!="object"||i.beginScope===null)throw Ee("beginScope must be object"),nt;Ln(i,i.begin,{key:"beginScope"}),i.begin=Mt(i.begin,{joinWith:""})}}function Gr(i){if(Array.isArray(i.end)){if(i.skip||i.excludeEnd||i.returnEnd)throw Ee("skip, excludeEnd, returnEnd not compatible with endScope: {}"),nt;if(typeof i.endScope!="object"||i.endScope===null)throw Ee("endScope must be object"),nt;Ln(i,i.end,{key:"endScope"}),i.end=Mt(i.end,{joinWith:""})}}function Zr(i){i.scope&&typeof i.scope=="object"&&i.scope!==null&&(i.beginScope=i.scope,delete i.scope)}function Kr(i){Zr(i),typeof i.beginScope=="string"&&(i.beginScope={_wrap:i.beginScope}),typeof i.endScope=="string"&&(i.endScope={_wrap:i.endScope}),Wr(i),Gr(i)}function Xr(i){function e(l,a){return new RegExp(Oe(l),"m"+(i.case_insensitive?"i":"")+(i.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,o){o.position=this.position++,this.matchIndexes[this.matchAt]=o,this.regexes.push([o,a]),this.matchAt+=An(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(o=>o[1]);this.matcherRe=e(Mt(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const o=this.matcherRe.exec(a);if(!o)return null;const u=o.findIndex((f,h)=>h>0&&f!==void 0),c=this.matchIndexes[u];return o.splice(0,u),Object.assign(o,c)}}class t{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const o=new n;return this.rules.slice(a).forEach(([u,c])=>o.addRule(u,c)),o.compile(),this.multiRegexes[a]=o,o}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,o){this.rules.push([a,o]),o.type==="begin"&&this.count++}exec(a){const o=this.getMatcher(this.regexIndex);o.lastIndex=this.lastIndex;let u=o.exec(a);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const c=this.getMatcher(0);c.lastIndex=this.lastIndex+1,u=c.exec(a)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function r(l){const a=new t;return l.contains.forEach(o=>a.addRule(o.begin,{rule:o,type:"begin"})),l.terminatorEnd&&a.addRule(l.terminatorEnd,{type:"end"}),l.illegal&&a.addRule(l.illegal,{type:"illegal"}),a}function s(l,a){const o=l;if(l.isCompiled)return o;[Br,Pr,Kr,Fr].forEach(c=>c(l,a)),i.compilerExtensions.forEach(c=>c(l,a)),l.__beforeBegin=null,[Nr,Cr,jr].forEach(c=>c(l,a)),l.isCompiled=!0;let u=null;return typeof l.keywords=="object"&&l.keywords.$pattern&&(l.keywords=Object.assign({},l.keywords),u=l.keywords.$pattern,delete l.keywords.$pattern),u=u||/\w+/,l.keywords&&(l.keywords=On(l.keywords,i.case_insensitive)),o.keywordPatternRe=e(u,!0),a&&(l.begin||(l.begin=/\B|\b/),o.beginRe=e(o.begin),!l.end&&!l.endsWithParent&&(l.end=/\B|\b/),l.end&&(o.endRe=e(o.end)),o.terminatorEnd=Oe(o.end)||"",l.endsWithParent&&a.terminatorEnd&&(o.terminatorEnd+=(l.end?"|":"")+a.terminatorEnd)),l.illegal&&(o.illegalRe=e(l.illegal)),l.contains||(l.contains=[]),l.contains=[].concat(...l.contains.map(function(c){return Qr(c==="self"?l:c)})),l.contains.forEach(function(c){s(c,o)}),l.starts&&s(l.starts,a),o.matcher=r(o),o}if(i.compilerExtensions||(i.compilerExtensions=[]),i.contains&&i.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return i.classNameAliases=be(i.classNameAliases||{}),s(i)}function zn(i){return i?i.endsWithParent||zn(i.starts):!1}function Qr(i){return i.variants&&!i.cachedVariants&&(i.cachedVariants=i.variants.map(function(e){return be(i,{variants:null},e)})),i.cachedVariants?i.cachedVariants:zn(i)?be(i,{starts:i.starts?be(i.starts):null}):Object.isFrozen(i)?be(i):i}var Yr="11.8.0";class Jr extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const ct=Tn,un=be,hn=Symbol("nomatch"),es=7,Bn=function(i){const e=Object.create(null),n=Object.create(null),t=[];let r=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:fr};function o(d){return a.noHighlightRe.test(d)}function u(d){let v=d.className+" ";v+=d.parentNode?d.parentNode.className:"";const A=a.languageDetectRe.exec(v);if(A){const L=ge(A[1]);return L||(cn(s.replace("{}",A[1])),cn("Falling back to no-highlight mode for this block.",d)),L?A[1]:"no-highlight"}return v.split(/\s+/).find(L=>o(L)||ge(L))}function c(d,v,A){let L="",U="";typeof v=="object"?(L=d,A=v.ignoreIllegals,U=v.language):(De("10.7.0","highlight(lang, code, ...args) has been deprecated."),De("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),U=d,L=v),A===void 0&&(A=!0);const ie={code:L,language:U};Pe("before:highlight",ie);const me=ie.result?ie.result:f(ie.language,ie.code,A);return me.code=ie.code,Pe("after:highlight",me),me}function f(d,v,A,L){const U=Object.create(null);function ie(g,y){return g.keywords[y]}function me(){if(!T.keywords){q.addText(N);return}let g=0;T.keywordPatternRe.lastIndex=0;let y=T.keywordPatternRe.exec(N),R="";for(;y;){R+=N.substring(g,y.index);const M=le.case_insensitive?y[0].toLowerCase():y[0],W=ie(T,M);if(W){const[he,Kn]=W;if(q.addText(R),R="",U[M]=(U[M]||0)+1,U[M]<=es&&(Ve+=Kn),he.startsWith("_"))R+=y[0];else{const Xn=le.classNameAliases[he]||he;se(y[0],Xn)}}else R+=y[0];g=T.keywordPatternRe.lastIndex,y=T.keywordPatternRe.exec(N)}R+=N.substring(g),q.addText(R)}function je(){if(N==="")return;let g=null;if(typeof T.subLanguage=="string"){if(!e[T.subLanguage]){q.addText(N);return}g=f(T.subLanguage,N,!0,jt[T.subLanguage]),jt[T.subLanguage]=g._top}else g=p(N,T.subLanguage.length?T.subLanguage:null);T.relevance>0&&(Ve+=g.relevance),q.__addSublanguage(g._emitter,g.language)}function te(){T.subLanguage!=null?je():me(),N=""}function se(g,y){g!==""&&(q.startScope(y),q.addText(g),q.endScope())}function Bt(g,y){let R=1;const M=y.length-1;for(;R<=M;){if(!g._emit[R]){R++;continue}const W=le.classNameAliases[g[R]]||g[R],he=y[R];W?se(he,W):(N=he,me(),N=""),R++}}function Nt(g,y){return g.scope&&typeof g.scope=="string"&&q.openNode(le.classNameAliases[g.scope]||g.scope),g.beginScope&&(g.beginScope._wrap?(se(N,le.classNameAliases[g.beginScope._wrap]||g.beginScope._wrap),N=""):g.beginScope._multi&&(Bt(g.beginScope,y),N="")),T=Object.create(g,{parent:{value:T}}),T}function Ct(g,y,R){let M=mr(g.endRe,R);if(M){if(g["on:end"]){const W=new sn(g);g["on:end"](y,W),W.isMatchIgnored&&(M=!1)}if(M){for(;g.endsParent&&g.parent;)g=g.parent;return g}}if(g.endsWithParent)return Ct(g.parent,y,R)}function Un(g){return T.matcher.regexIndex===0?(N+=g[0],1):(at=!0,0)}function qn(g){const y=g[0],R=g.rule,M=new sn(R),W=[R.__beforeBegin,R["on:begin"]];for(const he of W)if(he&&(he(g,M),M.isMatchIgnored))return Un(y);return R.skip?N+=y:(R.excludeBegin&&(N+=y),te(),!R.returnBegin&&!R.excludeBegin&&(N=y)),Nt(R,g),R.returnBegin?0:y.length}function Wn(g){const y=g[0],R=v.substring(g.index),M=Ct(T,g,R);if(!M)return hn;const W=T;T.endScope&&T.endScope._wrap?(te(),se(y,T.endScope._wrap)):T.endScope&&T.endScope._multi?(te(),Bt(T.endScope,g)):W.skip?N+=y:(W.returnEnd||W.excludeEnd||(N+=y),te(),W.excludeEnd&&(N=y));do T.scope&&q.closeNode(),!T.skip&&!T.subLanguage&&(Ve+=T.relevance),T=T.parent;while(T!==M.parent);return M.starts&&Nt(M.starts,g),W.returnEnd?0:y.length}function Gn(){const g=[];for(let y=T;y!==le;y=y.parent)y.scope&&g.unshift(y.scope);g.forEach(y=>q.openNode(y))}let Fe={};function Pt(g,y){const R=y&&y[0];if(N+=g,R==null)return te(),0;if(Fe.type==="begin"&&y.type==="end"&&Fe.index===y.index&&R===""){if(N+=v.slice(y.index,y.index+1),!r){const M=new Error(`0 width match regex (${d})`);throw M.languageName=d,M.badRule=Fe.rule,M}return 1}if(Fe=y,y.type==="begin")return qn(y);if(y.type==="illegal"&&!A){const M=new Error('Illegal lexeme "'+R+'" for mode "'+(T.scope||"<unnamed>")+'"');throw M.mode=T,M}else if(y.type==="end"){const M=Wn(y);if(M!==hn)return M}if(y.type==="illegal"&&R==="")return 1;if(lt>1e5&&lt>y.index*3)throw new Error("potential infinite loop, way more iterations than matches");return N+=R,R.length}const le=ge(d);if(!le)throw Ee(s.replace("{}",d)),new Error('Unknown language: "'+d+'"');const Zn=Xr(le);let st="",T=L||Zn;const jt={},q=new a.__emitter(a);Gn();let N="",Ve=0,ve=0,lt=0,at=!1;try{if(le.__emitTokens)le.__emitTokens(v,q);else{for(T.matcher.considerAll();;){lt++,at?at=!1:T.matcher.considerAll(),T.matcher.lastIndex=ve;const g=T.matcher.exec(v);if(!g)break;const y=v.substring(ve,g.index),R=Pt(y,g);ve=g.index+R}Pt(v.substring(ve))}return q.finalize(),st=q.toHTML(),{language:d,value:st,relevance:Ve,illegal:!1,_emitter:q,_top:T}}catch(g){if(g.message&&g.message.includes("Illegal"))return{language:d,value:ct(v),illegal:!0,relevance:0,_illegalBy:{message:g.message,index:ve,context:v.slice(ve-100,ve+100),mode:g.mode,resultSoFar:st},_emitter:q};if(r)return{language:d,value:ct(v),illegal:!1,relevance:0,errorRaised:g,_emitter:q,_top:T};throw g}}function h(d){const v={value:ct(d),illegal:!1,relevance:0,_top:l,_emitter:new a.__emitter(a)};return v._emitter.addText(d),v}function p(d,v){v=v||a.languages||Object.keys(e);const A=h(d),L=v.filter(ge).filter(zt).map(te=>f(te,d,!1));L.unshift(A);const U=L.sort((te,se)=>{if(te.relevance!==se.relevance)return se.relevance-te.relevance;if(te.language&&se.language){if(ge(te.language).supersetOf===se.language)return 1;if(ge(se.language).supersetOf===te.language)return-1}return 0}),[ie,me]=U,je=ie;return je.secondBest=me,je}function _(d,v,A){const L=v&&n[v]||A;d.classList.add("hljs"),d.classList.add(`language-${L}`)}function w(d){let v=null;const A=u(d);if(o(A))return;if(Pe("before:highlightElement",{el:d,language:A}),d.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(d)),a.throwUnescapedHTML))throw new Jr("One of your code blocks includes unescaped HTML.",d.innerHTML);v=d;const L=v.textContent,U=A?c(L,{language:A,ignoreIllegals:!0}):p(L);d.innerHTML=U.value,_(d,A,U.language),d.result={language:U.language,re:U.relevance,relevance:U.relevance},U.secondBest&&(d.secondBest={language:U.secondBest.language,relevance:U.secondBest.relevance}),Pe("after:highlightElement",{el:d,result:U,text:L})}function S(d){a=un(a,d)}const H=()=>{V(),De("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function P(){V(),De("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let j=!1;function V(){if(document.readyState==="loading"){j=!0;return}document.querySelectorAll(a.cssSelector).forEach(w)}function Z(){j&&V()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",Z,!1);function Nn(d,v){let A=null;try{A=v(i)}catch(L){if(Ee("Language definition for '{}' could not be registered.".replace("{}",d)),r)Ee(L);else throw L;A=l}A.name||(A.name=d),e[d]=A,A.rawDefinition=v.bind(null,i),A.aliases&&Lt(A.aliases,{languageName:d})}function Cn(d){delete e[d];for(const v of Object.keys(n))n[v]===d&&delete n[v]}function Pn(){return Object.keys(e)}function ge(d){return d=(d||"").toLowerCase(),e[d]||e[n[d]]}function Lt(d,{languageName:v}){typeof d=="string"&&(d=[d]),d.forEach(A=>{n[A.toLowerCase()]=v})}function zt(d){const v=ge(d);return v&&!v.disableAutodetect}function jn(d){d["before:highlightBlock"]&&!d["before:highlightElement"]&&(d["before:highlightElement"]=v=>{d["before:highlightBlock"](Object.assign({block:v.el},v))}),d["after:highlightBlock"]&&!d["after:highlightElement"]&&(d["after:highlightElement"]=v=>{d["after:highlightBlock"](Object.assign({block:v.el},v))})}function Fn(d){jn(d),t.push(d)}function Vn(d){const v=t.indexOf(d);v!==-1&&t.splice(v,1)}function Pe(d,v){const A=d;t.forEach(function(L){L[A]&&L[A](v)})}function Hn(d){return De("10.7.0","highlightBlock will be removed entirely in v12.0"),De("10.7.0","Please use highlightElement now."),w(d)}Object.assign(i,{highlight:c,highlightAuto:p,highlightAll:V,highlightElement:w,highlightBlock:Hn,configure:S,initHighlighting:H,initHighlightingOnLoad:P,registerLanguage:Nn,unregisterLanguage:Cn,listLanguages:Pn,getLanguage:ge,registerAliases:Lt,autoDetection:zt,inherit:un,addPlugin:Fn,removePlugin:Vn}),i.debugMode=function(){r=!1},i.safeMode=function(){r=!0},i.versionString=Yr,i.regex={concat:Se,lookahead:Rn,either:$t,optional:dr,anyNumberOfTimes:pr};for(const d in Ge)typeof Ge[d]=="object"&&In(Ge[d]);return Object.assign(i,Ge),i},$e=Bn({});$e.newInstance=()=>Bn({});var ts=$e;$e.HighlightJS=$e;$e.default=$e;const fn=or(ts);function ns(i){return{c:b,l:b,m:b,p:b,d:b}}function is(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!1,pending:cs,then:ss,catch:rs,value:6};return ce(n=i[5].text(),t),{c(){e=J(),t.block.c()},l(r){e=J(),t.block.l(r)},m(r,s){D(r,e,s),t.block.m(r,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e},p(r,s){i=r,t.ctx=i,s&1&&n!==(n=i[5].text())&&ce(n,t)||Ce(t,i,s)},d(r){r&&E(e),t.block.d(r),t.token=null,t=null}}}function rs(i){return{c:b,l:b,m:b,p:b,d:b}}function ss(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!1,pending:os,then:as,catch:ls,value:7};return ce(n=i[2].parse(i[6]),t),{c(){e=J(),t.block.c()},l(r){e=J(),t.block.l(r)},m(r,s){D(r,e,s),t.block.m(r,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e},p(r,s){i=r,t.ctx=i,s&1&&n!==(n=i[2].parse(i[6]))&&ce(n,t)||Ce(t,i,s)},d(r){r&&E(e),t.block.d(r),t.token=null,t=null}}}function ls(i){return{c:b,l:b,m:b,p:b,d:b}}function as(i){let e,n=i[7]+"",t;return{c(){e=new si(!1),t=J(),this.h()},l(r){e=li(r,!1),t=J(),this.h()},h(){e.a=t},m(r,s){e.m(n,r,s),D(r,t,s)},p(r,s){s&1&&n!==(n=r[7]+"")&&e.p(n)},d(r){r&&(E(t),e.d())}}}function os(i){return{c:b,l:b,m:b,p:b,d:b}}function cs(i){return{c:b,l:b,m:b,p:b,d:b}}function us(i){return{c:b,l:b,m:b,p:b,d:b}}function hs(i){let e,n,t,r={ctx:i,current:null,token:null,hasCatch:!1,pending:us,then:is,catch:ns,value:5};return ce(t=i[0].blob(),r),{c(){e=z("div"),n=z("div"),r.block.c(),this.h()},l(s){e=B(s,"DIV",{class:!0});var l=K(e);n=B(l,"DIV",{class:!0});var a=K(n);r.block.l(a),a.forEach(E),l.forEach(E),this.h()},h(){I(n,"class","markdown-scroll svelte-1spych6"),I(e,"class","markdown-container svelte-1spych6")},m(s,l){D(s,e,l),X(e,n),r.block.m(n,r.anchor=null),r.mount=()=>n,r.anchor=null,i[3](n)},p(s,[l]){i=s,r.ctx=i,l&1&&t!==(t=i[0].blob())&&ce(t,r)||Ce(r,i,l)},i:b,o:b,d(s){s&&E(e),r.block.d(),r.token=null,r=null,i[3](null)}}}function fs(i,e,n){let{entry:t}=e,r,s;wt(()=>{s=new MutationObserver(()=>{r.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(u=>{u.id=u.innerText.toLowerCase().replace(" ","_")})}),s.observe(r,{childList:!0})}),ri(()=>{s==null||s.disconnect()});const l=new yn(ir({langPrefix:"hljs language-",async:!0,highlight:async(o,u)=>{const c=await Et.get({type:"langname",langname:u});return c==null?o:(fn.registerLanguage(c.extra,c.import),fn.highlight(o,{language:c.extra}).value)}}));function a(o){Ke[o?"unshift":"push"](()=>{r=o,n(1,r)})}return i.$$set=o=>{"entry"in o&&n(0,t=o.entry)},[t,r,l,a]}class ps extends Te{constructor(e){super(),Re(this,e,fs,hs,xe,{entry:0})}}function ds(i){let e,n,t,r,s,l;return e=new Fi({}),e.$on("dropentry",i[2]),{c(){kt(e.$$.fragment),n=pe(),t=z("div"),r=pe(),s=z("div"),this.h()},l(a){yt(e.$$.fragment,a),n=de(a),t=B(a,"DIV",{class:!0}),K(t).forEach(E),r=de(a),s=B(a,"DIV",{class:!0}),K(s).forEach(E),this.h()},h(){I(t,"class","tab-list-container svelte-b92idw"),I(s,"class","tab-content-container")},m(a,o){xt(e,a,o),D(a,n,o),D(a,t,o),i[3](t),D(a,r,o),D(a,s,o),i[4](s),l=!0},p:b,i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){ne(e.$$.fragment,a),l=!1},d(a){a&&(E(n),E(t),E(r),E(s)),vt(e,a),i[3](null),i[4](null)}}}function gs(i,e,n){let t,r;wt(async()=>{dn.set({listContainer:t,contentContainer:r,items:[],selected:null}),new ps({target:ft({name:"Information",icon:"/asset-viewer/bootstrap-icons/info-circle.svg",closable:!1}),props:{entry:new ye.fsFile_Fetch("/asset-viewer/docs/usage.md",null)}})});function s(u){new mn({target:ft({name:u.name,icon:"/asset-viewer/bootstrap-icons/folder-fill.svg"}),props:{dir:u}})}async function l(u){var f,h;const c=u.detail;if(c.type==F.Directory)s(c);else if(c.type==F.File){if(await pt(c),!c.viewer)throw new Error("Dragged viewer has no viewer.");const p=await((h=(f=c.viewer).transform)==null?void 0:h.call(f,c))??c;p.name=c.name,p.parent=c.parent,p.type==F.Directory?s(p):p.type==F.File&&It(p)}}function a(u){Ke[u?"unshift":"push"](()=>{t=u,n(0,t)})}function o(u){Ke[u?"unshift":"push"](()=>{r=u,n(1,r)})}return[t,r,l,a,o]}class xs extends Te{constructor(e){super(),Re(this,e,gs,ds,xe,{})}}export{ut as D,ps as M,Xe as N,xs as P,Qe as U,ys as _,ye as a,ts as c,Ft as e,F as f,or as g,ce as h,Et as l,Ce as u};
