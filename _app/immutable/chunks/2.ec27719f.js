var Qn=Object.defineProperty;var Yn=(i,e,n)=>e in i?Qn(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var w=(i,e,n)=>(Yn(i,typeof e!="symbol"?e+"":e,n),n),Jn=(i,e,n)=>{if(!e.has(i))throw TypeError("Cannot "+n)};var ct=(i,e,n)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,n)};var Ue=(i,e,n)=>(Jn(i,e,"access private method"),n);import{C as ei,D as ti,E as qe,F as pe,s as ve,f as z,a as de,l as mt,g as N,h as Z,c as ge,m as bt,d as E,j as I,G as ye,i as D,w as K,H as ke,n as _t,A as b,I as pn,J as se,v as wt,p as Xe,e as Y,o as kt,K as ni,L as ii,M as ri,N as si,O as li}from"./scheduler.ac22207c.js";import{g as Be,t as te,c as Ce,a as Q,S as Te,i as Ae,b as yt,d as xt,m as vt,e as Et}from"./index.1bb6f5e4.js";import{w as ai}from"./index.346d3941.js";import{_ as C}from"./preload-helper.a4192956.js";function ue(i,e){const n=e.token={};function t(r,s,l,a){if(e.token!==n)return;e.resolved=a;let o=e.ctx;l!==void 0&&(o=o.slice(),o[l]=a);const h=r&&(e.current=r)(o);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,f)=>{f!==s&&u&&(Be(),te(u,1,1,()=>{e.blocks[f]===u&&(e.blocks[f]=null)}),Ce())}):e.block.d(1),h.c(),Q(h,1),h.m(e.mount(),e.anchor),c=!0),e.block=h,e.blocks&&(e.blocks[s]=h),c&&pe()}if(ei(i)){const r=ti();if(i.then(s=>{qe(r),t(e.then,1,e.value,s),qe(null)},s=>{if(qe(r),t(e.catch,2,e.error,s),qe(null),!e.hasCatch)throw s}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,i),!0;e.resolved=i}}function Pe(i,e,n){const t=e.slice(),{resolved:r}=i;i.current===i.then&&(t[i.value]=r),i.current===i.catch&&(t[i.error]=r),i.block.p(t,n)}function Ft(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}const oi=!0,ys=Object.freeze(Object.defineProperty({__proto__:null,prerender:oi},Symbol.toStringTag,{value:"Module"}));function Vt(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=N(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){I(e,"class","tab-icon svelte-sjbfua"),se(e.src,n=i[2])||I(e,"src",n),I(e,"alt","Tab List Icon")},m(t,r){D(t,e,r)},p(t,r){r&4&&!se(e.src,n=t[2])&&I(e,"src",n)},d(t){t&&E(e)}}}function Ht(i){let e,n='<img class="tab-remove-icon svelte-sjbfua" src="/asset-viewer/bootstrap-icons/x-lg.svg" alt="Remove Tab Icon"/>',t,r;return{c(){e=z("div"),e.innerHTML=n,this.h()},l(s){e=N(s,"DIV",{class:!0,"data-svelte-h":!0}),wt(e)!=="svelte-di38j7"&&(e.innerHTML=n),this.h()},h(){I(e,"class","tab-remove-container svelte-sjbfua")},m(s,l){D(s,e,l),t||(r=ke(e,"click",i[6]),t=!0)},p:b,d(s){s&&E(e),t=!1,r()}}}function ci(i){let e,n,t,r,s,l,a=i[2]&&Vt(i),o=i[4]&&Ht(i);return{c(){e=z("div"),a&&a.c(),n=de(),t=mt(i[1]),r=de(),o&&o.c(),this.h()},l(h){e=N(h,"DIV",{class:!0});var c=Z(e);a&&a.l(c),n=ge(c),t=bt(c,i[1]),r=ge(c),o&&o.l(c),c.forEach(E),this.h()},h(){I(e,"class","tab-list-item svelte-sjbfua"),ye(e,"selected",i[3])},m(h,c){D(h,e,c),a&&a.m(e,null),K(e,n),K(e,t),K(e,r),o&&o.m(e,null),s||(l=ke(e,"click",i[7]),s=!0)},p(h,[c]){h[2]?a?a.p(h,c):(a=Vt(h),a.c(),a.m(e,n)):a&&(a.d(1),a=null),c&2&&_t(t,h[1]),h[4]?o?o.p(h,c):(o=Ht(h),o.c(),o.m(e,null)):o&&(o.d(1),o=null),c&8&&ye(e,"selected",h[3])},i:b,o:b,d(h){h&&E(e),a&&a.d(),o&&o.d(),s=!1,l()}}}function ui(i,e,n){const t=pn();let{id:r}=e,{name:s}=e,{icon:l=null}=e,{selected:a=!1}=e,{closable:o=!1}=e;const h=u=>{u.stopPropagation(),t("tab_close",r)},c=()=>t("tab_select",r);return i.$$set=u=>{"id"in u&&n(0,r=u.id),"name"in u&&n(1,s=u.name),"icon"in u&&n(2,l=u.icon),"selected"in u&&n(3,a=u.selected),"closable"in u&&n(4,o=u.closable)},[r,s,l,a,o,t,h,c]}class hi extends Te{constructor(e){super(),Ae(this,e,ui,ci,ve,{id:0,name:1,icon:2,selected:3,closable:4})}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),pe()}get name(){return this.$$.ctx[1]}set name(e){this.$$set({name:e}),pe()}get icon(){return this.$$.ctx[2]}set icon(e){this.$$set({icon:e}),pe()}get selected(){return this.$$.ctx[3]}set selected(e){this.$$set({selected:e}),pe()}get closable(){return this.$$.ctx[4]}set closable(e){this.$$set({closable:e}),pe()}}function fi(i){let e;return{c(){e=z("div"),this.h()},l(n){e=N(n,"DIV",{class:!0}),Z(e).forEach(E),this.h()},h(){I(e,"class","tab-content-item svelte-195j8un"),ye(e,"selected",i[1])},m(n,t){D(n,e,t),i[3](e)},p(n,[t]){t&2&&ye(e,"selected",n[1])},i:b,o:b,d(n){n&&E(e),i[3](null)}}}function pi(i,e,n){let{id:t}=e,{selected:r=!1}=e,{slot:s=null}=e;function l(a){Xe[a?"unshift":"push"](()=>{s=a,n(0,s)})}return i.$$set=a=>{"id"in a&&n(2,t=a.id),"selected"in a&&n(1,r=a.selected),"slot"in a&&n(0,s=a.slot)},[s,r,t,l]}class di extends Te{constructor(e){super(),Ae(this,e,pi,fi,ve,{id:2,selected:1,slot:0})}get id(){return this.$$.ctx[2]}set id(e){this.$$set({id:e}),pe()}get selected(){return this.$$.ctx[1]}set selected(e){this.$$set({selected:e}),pe()}get slot(){return this.$$.ctx[0]}set slot(e){this.$$set({slot:e}),pe()}}var Qe;(i=>{function e(t,r,s="0x"){return`${s}${t.toString(16).toUpperCase().padStart(r*2,"0")}`}i.hex=e;function n(t,r,s){return t+s*(r-t)}i.lerp=n})(Qe||(Qe={}));const We={Uint8:1,Int8:1,Uint16:2,Int16:2,Uint32:4,Int32:4,BigUint64:8,BigInt64:8,Float32:4,Float64:8},_e=class _e{constructor(e){w(this,"view",new DataView(new ArrayBuffer(0)));w(this,"pointer",0);w(this,"endianness",_e.LITTLE_ENDIAN);e!==void 0&&(e instanceof _e&&(e=e.buffer),this.loadData(e))}get length(){return this.view.byteLength}get buffer(){return this.view.buffer}get eof(){return this.pointer>=this.length}get dataLeft(){return this.length-this.pointer}loadData(e,n=0){e instanceof ArrayBuffer||(e=e.buffer),this.view=new DataView(e),this.pointer=n}to(){let e=arguments[0];return typeof e=="function"&&(e=new e),e.loadData(this.buffer,this.pointer),e}peek(e,n=0,...t){const r=this.pointer;this.pointer+=n;const s=e.call(this,...t);return this.pointer=r,s}readBuffer(e){const n=this.buffer.slice(this.pointer,this.pointer+e);return this.pointer+=e,n}readBufferFast(e){const n=new Uint8Array(this.buffer,this.pointer,e);return this.pointer+=e,n}readNumber(e){const n=this.view[`get${e}`](this.pointer,this.endianness);return this.pointer+=We[e],n}readBigNumber(e){const n=this.view[`get${e}`](this.pointer,this.endianness);return this.pointer+=We[e],n}readCustomNumber(e,n){let t=new Uint8Array(this.readBuffer(e));this.endianness==_e.LITTLE_ENDIAN&&(t=t.reverse());let r=0;for(let s=0;s<t.length;s++)r<<=8,r|=t[s];return n&&r&2<<e*8-1&&(r&=(2<<e*8-1)-1,r=-r),r}readBigCustomNumber(e,n){let t=new Uint8Array(this.readBuffer(e));this.endianness==_e.LITTLE_ENDIAN&&(t=t.reverse());let r=0n;for(let s=0;s<t.length;s++)r<<=8n,r|=BigInt(t[s]);return n&&r&2n<<BigInt(e)*8n-1n&&(r&=(2n<<BigInt(e)*8n-1n)-1n,r=-r),r}readString(e,n="utf-8"){const t=this.readBuffer(e);return new TextDecoder(n).decode(t)}readNullString(e="utf-8"){let n=this.pointer;for(;this.view.getUint8(n++)!=0;);const t=this.readBufferFast(n-this.pointer-1);return this.pointer++,new TextDecoder(e).decode(t)}readArray(e,n,...t){let r=new Array(n);for(let s=0;s<n;s++)r[s]=e.call(this,...t);return r}readArrayWhile(e,n,...t){let r=new Array;do r.push(e.call(this,...t));while(n(r[r.length-1],r.length-1,r));return r}readArrayTuple(e,n,...t){return this.readArray(e,n,...t)}readArrayUntilEnd(e,...n){return this.readArrayWhile(e,()=>!this.eof,...n)}assertMagic(e,n){if(typeof e=="string"){const t=this.readString(e.length,"ascii");if(t!=e)throw new Error(`DataReader.assertMagic: Strings do not match. expected: "${e}" got: "${t}"`)}else if(e instanceof ArrayBuffer){const t=new Uint8Array(e),r=new Uint8Array(this.readBuffer(t.length));if(t.some((s,l)=>s!=r[l]))throw new Error("DataReader.assertMagic: Buffers do not match.")}else if(Array.isArray(e)){const t=new Uint8Array(this.readBuffer(e.length));if(e.some((r,s)=>r!=t[s]))throw new Error("DataReader.assertMagic: Arrays do not match.")}else if(typeof e=="number"||typeof e=="bigint"){if(n===void 0)throw new Error("DataReader.magic: Must provide type for number.");const t=typeof e=="number"?this.readNumber(n):this.readBigNumber(n);if(t!=e)throw new Error(`DataReader.assertMagic: Magic number does not match. expected: ${Qe.hex(e,We[n])} got: ${Qe.hex(t,We[n])}`)}else throw new Error("DataReader.assertMagic: Invalid arguments.")}magic(e,n){if(typeof e=="string")return this.readString(e.length,"ascii")==e;if(e instanceof ArrayBuffer){const t=new Uint8Array(e),r=new Uint8Array(this.readBuffer(t.length));return t.every((s,l)=>s==r[l])}else if(Array.isArray(e)){const t=new Uint8Array(this.readBuffer(e.length));return e.every((r,s)=>r==t[s])}else if(typeof e=="number"||typeof e=="bigint"){if(n===void 0)throw new Error("DataReader.magic: Must provide type for number.");return(typeof e=="number"?this.readNumber(n):this.readBigNumber(n))==e}else throw new Error("DataReader.magic: Invalid arguments.")}};w(_e,"BIG_ENDIAN",!1),w(_e,"LITTLE_ENDIAN",!0);let ht=_e;var Ye;(i=>{function e(c){return new Promise(u=>setTimeout(u,c))}i.wait=e;const n=` 
	\\=+-/*:[](){}`.split("").map(c=>c.charCodeAt(0)),t=8;function r(c){if(c.byteLength==0)throw new Error("isBinary was called with no data.");const u=new ht(c);let f=[],p=0;for(;!u.eof;){const y=u.readNumber("Uint8");n.includes(y)?(p>0&&f.push(p),p=0):p++}return f.reduce((y,S)=>y+=S/f.length,0)>t}i.isBinary=r;function s(c){return c instanceof ArrayBuffer?c:c.buffer}i.getBuffer=s;function l(c,u){let f=new Array(c);for(let p=0;p<c;p++)f[p]=u(p);return f}i.initArray=l;async function a(c,u){return(await Promise.all(c.map(async f=>({value:f,success:await u(f)})))).filter(f=>f.success).map(f=>f.value)}i.asyncFilter=a;let o=0;function h(){return o++}i.getID=h})(Ye||(Ye={}));const dn=ai();let X;dn.subscribe(i=>X=i);function ft(i){if(X.items.every(e=>e.id!=i))throw new Error("Attempted to select invalid tab.");X.selected=i,X.items.forEach(e=>{e.listItem.selected=e.id==X.selected,e.contentItem.selected=e.id==X.selected})}function gi(i){const e=X.items.findIndex(t=>t.id==i);if(e==-1)throw new Error("Attempted to close invalid tab.");X.selected==i&&ft(X.items[e-1].id),X.items.splice(e,1).forEach(t=>{t.listItem.$destroy(),t.contentItem.$destroy()})}function pt(i){const e=Ye.getID(),n=new hi({target:X.listContainer,props:{name:i.name,icon:i.icon,id:e,closable:i.closable??!0}});n.$on("tab_select",s=>{ft(s.detail)}),n.$on("tab_close",s=>{gi(s.detail)});const t=new di({target:X.contentContainer,props:{id:e}});X.items.push({listItem:n,contentItem:t,id:e}),((i.autoSelect??!0)||X.selected==null)&&ft(e);const r=t.slot;if(!r)throw new Error("Failed to create slot for tab.");return r}class gn{constructor(){w(this,"items",[])}async itemImport(e){return e.import===null&&(e.import=(await e.importfn()).default),e}async get(e){for(const n of this.items)if(await n.isValid(e))return await this.itemImport(n);return null}async getImport(e){var n;return((n=await this.get(e))==null?void 0:n.import)??null}async getAll(e){let n=[];for(const t of this.items)await t.isValid(e)&&n.push(await this.itemImport(t));return n}async getAllImports(e){return(await this.getAll(e)).map(n=>n.import)}async valid(e){for(const n of this.items)if(n.isValid(e))return!0;return!1}addRegistryItem(e,n,t){this.items.push({isValid:e,importfn:n,import:null,extra:t})}}function he(i,e){return n=>n.type=="filename"?i.test(n.filename):n.type=="langname"?n.langname.toLowerCase()==e:!1}const ne=new gn;ne.addRegistryItem(he(/$-/,"plaintext"),()=>C(()=>import("./plaintext.7945c0c0.js"),[],import.meta.url),"plaintext");ne.addRegistryItem(he(/\.m?js$/,"javascript"),()=>C(()=>import("./javascript.e0819b20.js"),[],import.meta.url),"javascript");ne.addRegistryItem(he(/\.(?:d\.)?ts$/,"typescript"),()=>C(()=>import("./typescript.def66f35.js"),[],import.meta.url),"typescript");ne.addRegistryItem(he(/\.json$/,"json"),()=>C(()=>import("./json.c6c94b43.js"),[],import.meta.url),"json");ne.addRegistryItem(he(/\.(?:xml|html|svelte)$/,"xml"),()=>C(()=>import("./xml.7b0fd495.js"),[],import.meta.url),"xml");ne.addRegistryItem(he(/\.md$/,"markdown"),()=>C(()=>import("./markdown.83c491be.js"),[],import.meta.url),"markdown");ne.addRegistryItem(he(/\.py$/,"python"),()=>C(()=>import("./python.d59bf68c.js"),[],import.meta.url),"python");ne.addRegistryItem(he(/\.sh$/,"bash"),()=>C(()=>import("./bash.cc88d916.js"),[],import.meta.url),"bash");ne.addRegistryItem(he(/\.(?:c|cpp|h|hpp|glsl|vsh|fsh)$/,"cpp"),()=>C(()=>import("./cpp.aa04b0db.js"),[],import.meta.url),"cpp");ne.addRegistryItem(he(/\.rs$/,"rust"),()=>C(()=>import("./rust.e4f5d8be.js"),[],import.meta.url),"rust");const J=new gn;J.addRegistryItem(i=>{var e;return i.type==F.File&&["txt","gitignore","npmrc","license","cfg","properties","url","conf","config"].includes(((e=i.name.split(".").pop())==null?void 0:e.toLowerCase())??"")},()=>C(()=>import("./text.d31d6476.js"),["./text.d31d6476.js","./Code.1b98bb89.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./Code.f6462e66.js","..\\assets\\Code.10b05023.css"],import.meta.url));J.addRegistryItem(async i=>i.type==F.File&&await ne.valid({type:"filename",filename:i.name}),()=>C(()=>import("./code.8dc41c84.js"),["./code.8dc41c84.js","./Code.1b98bb89.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./Code.f6462e66.js","..\\assets\\Code.10b05023.css"],import.meta.url));J.addRegistryItem(i=>i.type==F.File&&i.name.toLowerCase().endsWith(".md"),()=>C(()=>import("./markdown.9b7742de.js"),[],import.meta.url));J.addRegistryItem(i=>i.type==F.File&&["png","jpg","jpeg","jfif","tiff","webp","gif","svg","bmp"].includes(i.name.split(".").pop()??""),()=>C(()=>import("./image.014002a2.js"),["./image.014002a2.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js"],import.meta.url));J.addRegistryItem(i=>i.type==F.File&&["mp4","mov","webm","mkv"].includes(i.name.split(".").pop()??""),()=>C(()=>import("./video.77233430.js"),["./video.77233430.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js"],import.meta.url));J.addRegistryItem(i=>i.type==F.File&&i.name.endsWith(".zip"),()=>C(()=>import("./zip.304d9a1b.js"),["./zip.304d9a1b.js","./BlobReader.c87703e6.js","./pako.esm.29d98458.js"],import.meta.url));J.addRegistryItem(i=>i.type==F.File&&i.name.endsWith(".exe"),()=>C(()=>import("./executable.96ccb09f.js"),["./executable.96ccb09f.js","./ImageUtils.e27df48a.js","./BlobReader.c87703e6.js"],import.meta.url));J.addRegistryItem(i=>i.type!=F.File?!1:i.name.endsWith(".mid")||i.name.endsWith(".midi"),()=>C(()=>import("./midi.f36aa2a0.js"),["./midi.f36aa2a0.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./EventDispatcher.7485eed3.js"],import.meta.url));J.addRegistryItem(async i=>{if(i.type!=F.File||!i.name.includes(".dat"))return!1;const e=await i.blob();if(e.size==0)return!0;const n=await e.slice(0,2).arrayBuffer();return new DataView(n).getUint16(0,!1)==8075},()=>C(()=>import("./nbt.a0c91b8e.js"),["./nbt.a0c91b8e.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./nbt.ff4d3765.js","./pako.esm.29d98458.js","..\\assets\\nbt.22a48fef.css"],import.meta.url));J.addRegistryItem(async i=>i.type!=F.Directory||i.parent!=null&&!i.parent.name.includes(i.name)&&i.parent.name!="saves"?!1:await i.get("level.dat")!==null,()=>C(()=>import("./world.d03f6895.js"),["./world.d03f6895.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","./pako.esm.29d98458.js","./nbt.ff4d3765.js","./EventDispatcher.7485eed3.js","..\\assets\\world.f6c65dd6.css"],import.meta.url));J.addRegistryItem(i=>i.type==F.File&&i.name.endsWith(".rpa"),()=>C(()=>import("./archive.cf7e7aab.js"),["./archive.cf7e7aab.js","./pako.esm.29d98458.js","./depickle.72866d05.js"],import.meta.url));J.addRegistryItem(i=>i.type!=F.File?!1:i.name.endsWith(".rpyc")||i.name.endsWith(".rpy"),()=>C(()=>import("./script.efc73bde.js"),["./script.efc73bde.js","./depickle.72866d05.js","./pako.esm.29d98458.js","./Code.f6462e66.js","./scheduler.ac22207c.js","./index.1bb6f5e4.js","..\\assets\\Code.10b05023.css"],import.meta.url));J.addRegistryItem(async i=>{if(i.type!=F.File||!i.name.includes(".vtf"))return!1;const e=await i.blob();return e.size==0?!0:await e.slice(0,4).text()=="VTF\0"},()=>C(()=>import("./vtf.e84b44f4.js"),["./vtf.e84b44f4.js","./ImageUtils.e27df48a.js"],import.meta.url));async function dt(i){if(i.viewer!=null)return;let e=await J.getAllImports(i);e=await Ye.asyncFilter(e,async t=>await t.isValid(i));const n=e.sort((t,r)=>r.priority-t.priority).at(0);if(n&&await n.isValid(i)&&(i.viewer=n,console.debug(`Found viewer "${i.viewer.namespace}" for "${xe.getPath(i)}"`),i.viewer.transform)){const t=await i.viewer.transform(i);await xe.transform(i,t)}}async function It(i){const e=i.viewer;e!=null&&e.createViewer&&(console.debug(`Opening viewer for "${xe.getPath(i)}"`,i),e.createViewer(i,pt({name:i.name,icon:e.getIcon?await e.getIcon(i):null})))}async function Je(i){const e=i.viewer;return e==null?null:e.getIcon?await e.getIcon(i):null}function mi(i){return{c:b,l:b,m:b,p:b,d:b}}function bi(i){let e;function n(s,l){return s[2]==null?wi:_i}let t=n(i),r=t(i);return{c(){e=z("div"),r.c(),this.h()},l(s){e=N(s,"DIV",{class:!0});var l=Z(e);r.l(l),l.forEach(E),this.h()},h(){I(e,"class","icon-container svelte-6m6qam")},m(s,l){D(s,e,l),r.m(e,null)},p(s,l){t===(t=n(s))&&r?r.p(s,l):(r.d(1),r=t(s),r&&(r.c(),r.m(e,null)))},d(s){s&&E(e),r.d()}}}function _i(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=N(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){se(e.src,n=i[2])||I(e,"src",n),I(e,"alt","File Icon"),I(e,"class","svelte-6m6qam")},m(t,r){D(t,e,r)},p(t,r){r&1&&!se(e.src,n=t[2])&&I(e,"src",n)},d(t){t&&E(e)}}}function wi(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=N(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){se(e.src,n="/asset-viewer/bootstrap-icons/file-earmark.svg")||I(e,"src",n),I(e,"alt","File Icon"),I(e,"class","svelte-6m6qam")},m(t,r){D(t,e,r)},p:b,d(t){t&&E(e)}}}function ki(i){return{c:b,l:b,m:b,p:b,d:b}}function yi(i){let e,n,t,r,s,l=i[0].name+"",a,o,h,c={ctx:i,current:null,token:null,hasCatch:!1,pending:ki,then:bi,catch:mi,value:2};return ue(t=Je(i[0]),c),{c(){e=z("div"),n=z("div"),c.block.c(),r=de(),s=z("div"),a=mt(l),this.h()},l(u){e=N(u,"DIV",{class:!0});var f=Z(e);n=N(f,"DIV",{class:!0});var p=Z(n);c.block.l(p),r=ge(p),s=N(p,"DIV",{class:!0});var _=Z(s);a=bt(_,l),_.forEach(E),p.forEach(E),f.forEach(E),this.h()},h(){I(s,"class","name svelte-6m6qam"),I(n,"class","title svelte-6m6qam"),I(e,"class","container svelte-6m6qam")},m(u,f){D(u,e,f),K(e,n),c.block.m(n,c.anchor=null),c.mount=()=>n,c.anchor=r,K(n,r),K(n,s),K(s,a),o||(h=ke(n,"click",i[1]),o=!0)},p(u,[f]){i=u,c.ctx=i,f&1&&t!==(t=Je(i[0]))&&ue(t,c)||Pe(c,i,f),f&1&&l!==(l=i[0].name+"")&&_t(a,l)},i:b,o:b,d(u){u&&E(e),c.block.d(),c.token=null,c=null,o=!1,h()}}}function xi(i,e,n){let{file:t}=e;const r=()=>It(t);return i.$$set=s=>{"file"in s&&n(0,t=s.file)},[t,r]}class vi extends Te{constructor(e){super(),Ae(this,e,xi,yi,ve,{file:0})}}function Ut(i,e,n){const t=i.slice();return t[8]=e[n],t}function Ei(i){return{c:b,l:b,m:b,p:b,d:b}}function Ii(i){let e;function n(s,l){return s[11]==null?Ti:Ri}let t=n(i),r=t(i);return{c(){e=z("div"),r.c(),this.h()},l(s){e=N(s,"DIV",{class:!0});var l=Z(e);r.l(l),l.forEach(E),this.h()},h(){I(e,"class","icon-container svelte-135cnfs")},m(s,l){D(s,e,l),r.m(e,null)},p(s,l){t===(t=n(s))&&r?r.p(s,l):(r.d(1),r=t(s),r&&(r.c(),r.m(e,null)))},d(s){s&&E(e),r.d()}}}function Ri(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=N(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){se(e.src,n=i[11])||I(e,"src",n),I(e,"alt","Directory Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},p(t,r){r&2&&!se(e.src,n=t[11])&&I(e,"src",n)},d(t){t&&E(e)}}}function Ti(i){let e;function n(s,l){return s[3]?s[0]?Ai:Si:Di}let t=n(i),r=t(i);return{c(){r.c(),e=Y()},l(s){r.l(s),e=Y()},m(s,l){r.m(s,l),D(s,e,l)},p(s,l){t===(t=n(s))&&r?r.p(s,l):(r.d(1),r=t(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&E(e),r.d(s)}}}function Ai(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=N(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){se(e.src,n="/asset-viewer/bootstrap-icons/archive.svg")||I(e,"src",n),I(e,"alt","Directory Archive Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},p:b,d(t){t&&E(e)}}}function Si(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=N(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){se(e.src,n="/asset-viewer/bootstrap-icons/archive-fill.svg")||I(e,"src",n),I(e,"alt","Directory Collapsed Archive Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},p:b,d(t){t&&E(e)}}}function Di(i){let e;function n(s,l){return s[0]?$i:Mi}let t=n(i),r=t(i);return{c(){r.c(),e=Y()},l(s){r.l(s),e=Y()},m(s,l){r.m(s,l),D(s,e,l)},p(s,l){t!==(t=n(s))&&(r.d(1),r=t(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&E(e),r.d(s)}}}function $i(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=N(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){se(e.src,n="/asset-viewer/bootstrap-icons/folder.svg")||I(e,"src",n),I(e,"alt","Directory Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},d(t){t&&E(e)}}}function Mi(i){let e,n;return{c(){e=z("img"),this.h()},l(t){e=N(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){se(e.src,n="/asset-viewer/bootstrap-icons/folder-fill.svg")||I(e,"src",n),I(e,"alt","Directory Collapsed Icon"),I(e,"class","svelte-135cnfs")},m(t,r){D(t,e,r)},d(t){t&&E(e)}}}function Oi(i){return{c:b,l:b,m:b,p:b,d:b}}function qt(i){let e,n='<img src="/asset-viewer/bootstrap-icons/eye.svg" alt="Open Viewer Icon" class="svelte-135cnfs"/>',t,r;return{c(){e=z("div"),e.innerHTML=n,this.h()},l(s){e=N(s,"DIV",{class:!0,"data-svelte-h":!0}),wt(e)!=="svelte-1fphaay"&&(e.innerHTML=n),this.h()},h(){I(e,"class","create-viewer-icon-container svelte-135cnfs")},m(s,l){D(s,e,l),t||(r=ke(e,"click",i[6]),t=!0)},p:b,d(s){s&&E(e),t=!1,r()}}}function Wt(i){let e,n,t=Ft(i[4]),r=[];for(let l=0;l<t.length;l+=1)r[l]=Gt(Ut(i,t,l));const s=l=>te(r[l],1,1,()=>{r[l]=null});return{c(){e=z("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=N(l,"DIV",{class:!0});var a=Z(e);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(E),this.h()},h(){I(e,"class","dir-entries svelte-135cnfs"),ye(e,"hidden",!i[0])},m(l,a){D(l,e,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);n=!0},p(l,a){if(a&16){t=Ft(l[4]);let o;for(o=0;o<t.length;o+=1){const h=Ut(l,t,o);r[o]?(r[o].p(h,a),Q(r[o],1)):(r[o]=Gt(h),r[o].c(),Q(r[o],1),r[o].m(e,null))}for(Be(),o=t.length;o<r.length;o+=1)s(o);Ce()}(!n||a&1)&&ye(e,"hidden",!l[0])},i(l){if(!n){for(let a=0;a<t.length;a+=1)Q(r[a]);n=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)te(r[a]);n=!1},d(l){l&&E(e),ni(r,l)}}}function Li(i){let e,n;return e=new mn({props:{dir:i[8]}}),{c(){yt(e.$$.fragment)},l(t){xt(e.$$.fragment,t)},m(t,r){vt(e,t,r),n=!0},p(t,r){const s={};r&16&&(s.dir=t[8]),e.$set(s)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){Et(e,t)}}}function zi(i){let e,n;return e=new vi({props:{file:i[8]}}),{c(){yt(e.$$.fragment)},l(t){xt(e.$$.fragment,t)},m(t,r){vt(e,t,r),n=!0},p(t,r){const s={};r&16&&(s.file=t[8]),e.$set(s)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){Et(e,t)}}}function Gt(i){let e,n,t,r;const s=[zi,Li],l=[];function a(o,h){return o[8].type==F.File?0:o[8].type==F.Directory?1:-1}return~(e=a(i))&&(n=l[e]=s[e](i)),{c(){n&&n.c(),t=Y()},l(o){n&&n.l(o),t=Y()},m(o,h){~e&&l[e].m(o,h),D(o,t,h),r=!0},p(o,h){let c=e;e=a(o),e===c?~e&&l[e].p(o,h):(n&&(Be(),te(l[c],1,1,()=>{l[c]=null}),Ce()),~e?(n=l[e],n?n.p(o,h):(n=l[e]=s[e](o),n.c()),Q(n,1),n.m(t.parentNode,t)):n=null)},i(o){r||(Q(n),r=!0)},o(o){te(n),r=!1},d(o){o&&E(t),~e&&l[e].d(o)}}}function Zt(i){var S,G;let e,n,t,r,s,l=i[1].name+"",a,o,h,c,u,f,p={ctx:i,current:null,token:null,hasCatch:!1,pending:Oi,then:Ii,catch:Ei,value:11};ue(t=Je(i[1]),p);let _=((G=(S=i[1])==null?void 0:S.viewer)==null?void 0:G.createViewer)&&qt(i),y=i[4]&&i[2]&&Wt(i);return{c(){e=z("div"),n=z("div"),p.block.c(),r=de(),s=z("div"),a=mt(l),o=de(),_&&_.c(),h=de(),y&&y.c(),this.h()},l(U){e=N(U,"DIV",{class:!0});var P=Z(e);n=N(P,"DIV",{class:!0});var j=Z(n);p.block.l(j),r=ge(j),s=N(j,"DIV",{class:!0});var ie=Z(s);a=bt(ie,l),ie.forEach(E),o=ge(j),_&&_.l(j),j.forEach(E),h=ge(P),y&&y.l(P),P.forEach(E),this.h()},h(){I(s,"class","name svelte-135cnfs"),I(n,"class","title svelte-135cnfs"),I(e,"class","container svelte-135cnfs")},m(U,P){D(U,e,P),K(e,n),p.block.m(n,p.anchor=null),p.mount=()=>n,p.anchor=r,K(n,r),K(n,s),K(s,a),K(n,o),_&&_.m(n,null),K(e,h),y&&y.m(e,null),c=!0,u||(f=ke(n,"click",i[7]),u=!0)},p(U,P){var j,ie;i=U,p.ctx=i,P&2&&t!==(t=Je(i[1]))&&ue(t,p)||Pe(p,i,P),(!c||P&2)&&l!==(l=i[1].name+"")&&_t(a,l),(ie=(j=i[1])==null?void 0:j.viewer)!=null&&ie.createViewer?_?_.p(i,P):(_=qt(i),_.c(),_.m(n,null)):_&&(_.d(1),_=null),i[4]&&i[2]?y?(y.p(i,P),P&20&&Q(y,1)):(y=Wt(i),y.c(),Q(y,1),y.m(e,null)):y&&(Be(),te(y,1,1,()=>{y=null}),Ce())},i(U){c||(Q(y),c=!0)},o(U){te(y),c=!1},d(U){U&&E(e),p.block.d(),p.token=null,p=null,_&&_.d(),y&&y.d(),u=!1,f()}}}function Ni(i){let e=i[5],n,t,r=Zt(i);return{c(){r.c(),n=Y()},l(s){r.l(s),n=Y()},m(s,l){r.m(s,l),D(s,n,l),t=!0},p(s,[l]){l&32&&ve(e,e=s[5])?(Be(),te(r,1,1,b),Ce(),r=Zt(s),r.c(),Q(r,1),r.m(n.parentNode,n)):r.p(s,l)},i(s){t||(Q(r),t=!0)},o(s){te(r),t=!1},d(s){s&&E(n),r.d(s)}}}function Bi(i,e,n){let{dir:t}=e,r,{expanded:s=!1}=e,l=!1,a,o=0;kt(async()=>{t.parent==null&&(await dt(t),n(5,o++,o));const u=Object.values(await t.list());await Promise.all(u.map(async f=>{try{await dt(f)}catch(p){console.error(p)}})),n(4,a=Object.values(await t.list()).sort((f,p)=>f.name.localeCompare(p.name)+(p.type-f.type)*1e3))});const h=u=>{u.stopPropagation(),It(t)},c=()=>{n(0,s=!s)};return i.$$set=u=>{"dir"in u&&n(1,t=u.dir),"expanded"in u&&n(0,s=u.expanded)},i.$$.update=()=>{var u;i.$$.dirty&2&&n(3,r=((u=t.viewer)==null?void 0:u.transform)!=null),i.$$.dirty&5&&s&&!l&&n(2,l=!0)},[s,t,l,r,a,o,h,c]}class mn extends Te{constructor(e){super(),Ae(this,e,Bi,Ni,ve,{dir:1,expanded:0})}}var F=(i=>(i[i.File=1]="File",i[i.Directory=2]="Directory",i))(F||{}),xe;(i=>{function e(u){return u.parent==null?u.type==2?u:null:e(u)}i.root=e;function n(u){let f=u.name;for(;u.parent!=null;)u=u.parent,f=`${u.name}/${f}`;return f}i.getPath=n;function t(u){for(u=u.replace(/[\\\/]/g,"/");u.startsWith("/");)u=u.slice(1);for(;u.endsWith("/");)u=u.slice(0,-1);return u}i.fixPath=t;async function r(u,f){let p=t(f).split("/"),_=u;for(;p.length>1;){const S=p.shift();if(S==null)throw new Error("Catastrophic error that should never happen.");const G=await u.get(S);if(G==null||G.type!=2)return null;_=G}const y=p.shift();if(y==null)throw new Error("Catastrophic error that should never happen.");return await _.get(y)}i.getDeep=r;async function s(u,f,p){const _=t(f).split("/"),y=_.shift();if(y==null)throw new Error("setDeep empty path.");if(_.length==0)await u.set(y,p);else{let S=await u.get(y);if(S==null)S=new c(y,u),await u.set(y,S);else if(S.type!=2)throw new Error("setDeep encountered a file.");await s(S,_.join("/"),p)}}i.setDeep=s;async function l(u,f){return u.parent==null?(console.warn("Could not transform, Entry has no parent."),f):(f==null?await u.parent.set(u.name,null):(f.viewer=u.viewer,f.name=u.name,f.parent=u.parent,await u.parent.set(u.name,f)),f)}i.transform=l;async function a(u,f){let p=[u];for(;p.length>0;){const _=p.pop();if(_==null)break;const y=Object.entries(await _.list());for(const[S,G]of y){const U=i.getPath(G),P=await f(U,G),j=await _.get(S);j!=null&&j.type==2&&(P===void 0||P===!0)&&p.push(j)}}}i.forEachDeep=a;class o{constructor(f,p,_){w(this,"viewer",null);w(this,"type",1);w(this,"name");w(this,"parent");w(this,"_blob");this._blob=f,this.name=p,this.parent=_}async blob(){return this._blob}async buffer(){return await this._blob.arrayBuffer()}}i.fsFile_Blob=o;class h{constructor(f,p,_){w(this,"viewer",null);w(this,"type",1);w(this,"name");w(this,"parent");w(this,"url");w(this,"cachedBlob",null);this.url=f,this.name=_??this.url.slice(this.url.lastIndexOf("/")+1),this.parent=p}async blob(){return this.cachedBlob==null&&(this.cachedBlob=await(await fetch(this.url)).blob()),this.cachedBlob}async buffer(){return await(await this.blob()).arrayBuffer()}}i.fsFile_Fetch=h;class c{constructor(f,p,_={}){w(this,"viewer",null);w(this,"type",2);w(this,"name");w(this,"parent");w(this,"entries");this.name=f,this.parent=p,this.entries=_}async list(){return{...this.entries}}async get(f){return this.entries[f]??null}async set(f,p){p==null?delete this.entries[f]:(p.parent=this,this.entries[f]=p)}}i.fsDirectory_Container=c})(xe||(xe={}));async function Ci(i){const e=i.createReader();let n={},t=0;do{let r=await new Promise(s=>{e.readEntries(s)});t=r.length;for(const s of r)n[s.name]=s}while(t>0);return n}class Rt{constructor(e,n="ROOT",t=null){w(this,"type",F.Directory);w(this,"viewer",null);w(this,"evaluated",!1);w(this,"name");w(this,"parent");w(this,"transfer");w(this,"initialized",!1);w(this,"entries",{});this.transfer=e,this.name=n,this.parent=t}async init(){if(this.initialized)return;const e=await Ci(this.transfer);this.entries={};for(const n in e){const t=e[n];if(t.isFile){const r=await new Promise(s=>t.file(s));this.entries[n]=new xe.fsFile_Blob(r,n,this)}else if(t.isDirectory){const r=t;this.entries[n]=new Rt(r,n,this)}}this.initialized=!0}async list(){return this.initialized||await this.init(),{...this.entries}}async get(e){return this.initialized||await this.init(),this.entries[e]??null}async set(e,n){this.initialized||await this.init(),n==null?delete this.entries[e]:(n.parent=this,this.entries[e]=n)}}function Pi(i){let e,n,t=`<div class="dropzone-content svelte-r6lkz9"><div class="dropzone-text svelte-r6lkz9">File Dropzone
            <br/></div></div>`,r,s;return{c(){e=de(),n=z("div"),n.innerHTML=t,this.h()},l(l){e=ge(l),n=N(l,"DIV",{class:!0,"data-svelte-h":!0}),wt(n)!=="svelte-16pzcnp"&&(n.innerHTML=t),this.h()},h(){I(n,"class","file-dropzone svelte-r6lkz9"),ye(n,"visible",i[0])},m(l,a){D(l,e,a),D(l,n,a),r||(s=[ke(document.body,"dragover",i[1]),ke(document.body,"dragleave",i[2]),ke(document.body,"drop",i[3])],r=!0)},p(l,[a]){a&1&&ye(n,"visible",l[0])},i:b,o:b,d(l){l&&(E(e),E(n)),r=!1,ii(s)}}}function Kt(i){return i==null?!1:i.types.length==1&&i.types[0]=="Files"}function ji(i,e,n){const t=pn();let r=!1;function s(o){o.dataTransfer!=null&&Kt(o.dataTransfer)&&(o.preventDefault(),n(0,r=!0))}function l(o){o.fromElement==null&&n(0,r=!1)}async function a(o){o.preventDefault(),n(0,r=!1);const h=o.dataTransfer;if(h==null||!Kt(h))return;const c=h.items[0].webkitGetAsEntry();if(c!=null){if(c.isDirectory){const u=c;t("dropentry",new Rt(u,u.name))}else if(c.isFile){const u=await new Promise(f=>c.file(f));t("dropentry",new xe.fsFile_Blob(u,u.name,null))}}}return[r,s,l,a]}class Fi extends Te{constructor(e){super(),Ae(this,e,ji,Pi,ve,{})}}function Tt(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Se=Tt();function bn(i){Se=i}const _n=/[&<>"']/,Vi=new RegExp(_n.source,"g"),wn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Hi=new RegExp(wn.source,"g"),Ui={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xt=i=>Ui[i];function W(i,e){if(e){if(_n.test(i))return i.replace(Vi,Xt)}else if(wn.test(i))return i.replace(Hi,Xt);return i}const qi=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function kn(i){return i.replace(qi,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const Wi=/(^|[^\[])\^/g;function $(i,e){i=typeof i=="string"?i:i.source,e=e||"";const n={replace:(t,r)=>(r=typeof r=="object"&&"source"in r?r.source:r,r=r.replace(Wi,"$1"),i=i.replace(t,r),n),getRegex:()=>new RegExp(i,e)};return n}const Gi=/[^\w:]/g,Zi=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Qt(i,e,n){if(i){let t;try{t=decodeURIComponent(kn(n)).replace(Gi,"").toLowerCase()}catch{return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}e&&!Zi.test(n)&&(n=Yi(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Ge={},Ki=/^[^:]+:\/*[^/]*$/,Xi=/^([^:]+:)[\s\S]*$/,Qi=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Yi(i,e){Ge[" "+i]||(Ki.test(i)?Ge[" "+i]=i+"/":Ge[" "+i]=Ke(i,"/",!0)),i=Ge[" "+i];const n=i.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:i.replace(Xi,"$1")+e:e.charAt(0)==="/"?n?e:i.replace(Qi,"$1")+e:i+e}const et={exec:()=>null};function Yt(i,e){const n=i.replace(/\|/g,(s,l,a)=>{let o=!1,h=l;for(;--h>=0&&a[h]==="\\";)o=!o;return o?"|":" |"}),t=n.split(/ \|/);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function Ke(i,e,n){const t=i.length;if(t===0)return"";let r=0;for(;r<t;){const s=i.charAt(t-r-1);if(s===e&&!n)r++;else if(s!==e&&n)r++;else break}return i.slice(0,t-r)}function Ji(i,e){if(i.indexOf(e[1])===-1)return-1;let n=0;for(let t=0;t<i.length;t++)if(i[t]==="\\")t++;else if(i[t]===e[0])n++;else if(i[t]===e[1]&&(n--,n<0))return t;return-1}function er(i,e){!i||i.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(i.sanitize||i.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(i.highlight||i.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),i.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),i.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),i.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),i.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(i.headerIds||i.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function Jt(i,e,n,t){const r=e.href,s=e.title?W(e.title):null,l=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){t.state.inLink=!0;const a={type:"link",raw:n,href:r,title:s,text:l,tokens:t.inlineTokens(l)};return t.state.inLink=!1,a}return{type:"image",raw:n,href:r,title:s,text:W(l)}}function tr(i,e){const n=i.match(/^(\s+)(?:```)/);if(n===null)return e;const t=n[1];return e.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[l]=s;return l.length>=t.length?r.slice(t.length):r}).join(`
`)}class tt{constructor(e){w(this,"options");w(this,"rules");w(this,"lexer");this.options=e||Se}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const t=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Ke(t,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const t=n[0],r=tr(t,n[3]||"");return{type:"code",raw:t,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let t=n[2].trim();if(/#$/.test(t)){const r=Ke(t,"#");(this.options.pedantic||!r||/ $/.test(r))&&(t=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const t=n[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(t);return this.lexer.state.top=r,{type:"blockquote",raw:n[0],tokens:s,text:t}}}list(e){let n=this.rules.block.list.exec(e);if(n){let t=n[1].trim();const r=t.length>1,s={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");const l=new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",o="",h=!1;for(;e;){let c=!1;if(!(n=l.exec(e))||this.rules.block.hr.test(e))break;a=n[0],e=e.substring(a.length);let u=n[2].split(`
`,1)[0].replace(/^\t+/,G=>" ".repeat(3*G.length)),f=e.split(`
`,1)[0],p=0;this.options.pedantic?(p=2,o=u.trimLeft()):(p=n[2].search(/[^ ]/),p=p>4?1:p,o=u.slice(p),p+=n[1].length);let _=!1;if(!u&&/^ *$/.test(f)&&(a+=f+`
`,e=e.substring(f.length+1),c=!0),!c){const G=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),U=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),P=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),j=new RegExp(`^ {0,${Math.min(3,p-1)}}#`);for(;e;){const ie=e.split(`
`,1)[0];if(f=ie,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),P.test(f)||j.test(f)||G.test(f)||U.test(e))break;if(f.search(/[^ ]/)>=p||!f.trim())o+=`
`+f.slice(p);else{if(_||u.search(/[^ ]/)>=4||P.test(u)||j.test(u)||U.test(u))break;o+=`
`+f}!_&&!f.trim()&&(_=!0),a+=ie+`
`,e=e.substring(ie.length+1),u=f.slice(p)}}s.loose||(h?s.loose=!0:/\n *\n *$/.test(a)&&(h=!0));let y=null,S;this.options.gfm&&(y=/^\[[ xX]\] /.exec(o),y&&(S=y[0]!=="[ ] ",o=o.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!y,checked:S,loose:!1,text:o,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimRight(),s.items[s.items.length-1].text=o.trimRight(),s.raw=s.raw.trimRight();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){const u=s.items[c].tokens.filter(p=>p.type==="space"),f=u.length>0&&u.some(p=>/\n.*\n/.test(p.raw));s.loose=f}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n){const t={type:"html",block:!0,raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(n[0]):W(n[0]),s=t;s.type="paragraph",s.text=r,s.tokens=this.lexer.inline(r)}return t}}def(e){const n=this.rules.block.def.exec(e);if(n){const t=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:t,raw:n[0],href:r,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const t={type:"table",raw:n[0],header:Yt(n[1]).map(r=>({text:r,tokens:[]})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){let r=t.align.length,s,l,a,o;for(s=0;s<r;s++){const h=t.align[s];h&&(/^ *-+: *$/.test(h)?t.align[s]="right":/^ *:-+: *$/.test(h)?t.align[s]="center":/^ *:-+ *$/.test(h)?t.align[s]="left":t.align[s]=null)}for(r=t.rows.length,s=0;s<r;s++)t.rows[s]=Yt(t.rows[s],t.header.length).map(h=>({text:h,tokens:[]}));for(r=t.header.length,l=0;l<r;l++)t.header[l].tokens=this.lexer.inline(t.header[l].text);for(r=t.rows.length,l=0;l<r;l++)for(o=t.rows[l],a=0;a<o.length;a++)o[a].tokens=this.lexer.inline(o[a].text);return t}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const t=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:t,tokens:this.lexer.inline(t)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:W(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):W(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const t=n[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const l=Ke(t.slice(0,-1),"\\");if((t.length-l.length)%2===0)return}else{const l=Ji(n[2],"()");if(l>-1){const o=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let r=n[2],s="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);l&&(r=l[1],s=l[3])}else s=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(t)?r=r.slice(1):r=r.slice(1,-1)),Jt(n,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let r=(t[2]||t[1]).replace(/\s+/g," ");if(r=n[r.toLowerCase()],!r){const s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return Jt(t,r,t[0],this.lexer)}}emStrong(e,n,t=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const l=[...r[0]].length-1;let a,o,h=l,c=0;const u=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,n=n.slice(-1*e.length+l);(r=u.exec(n))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){h+=o;continue}else if((r[5]||r[6])&&l%3&&!((l+o)%3)){c+=o;continue}if(h-=o,h>0)continue;o=Math.min(o,o+h+c);const f=[...e].slice(0,l+r.index+o+1).join("");if(Math.min(l,o)%2){const _=f.slice(1,-1);return{type:"em",raw:f,text:_,tokens:this.lexer.inlineTokens(_)}}const p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let t=n[2].replace(/\n/g," ");const r=/[^ ]/.test(t),s=/^ /.test(t)&&/ $/.test(t);return r&&s&&(t=t.substring(1,t.length-1)),t=W(t,!0),{type:"codespan",raw:n[0],text:t}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=W(this.options.mangle?n(t[1]):t[1]),s="mailto:"+r):(r=W(t[1]),s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e,n){let t;if(t=this.rules.inline.url.exec(e)){let r,s;if(t[2]==="@")r=W(this.options.mangle?n(t[0]):t[0]),s="mailto:"+r;else{let l;do l=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(l!==t[0]);r=W(t[0]),t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,n){const t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):W(t[0]):t[0]:r=W(this.options.smartypants?n(t[0]):t[0]),{type:"text",raw:t[0],text:r}}}}const x={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:et,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};x._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;x._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;x.def=$(x.def).replace("label",x._label).replace("title",x._title).getRegex();x.bullet=/(?:[*+-]|\d{1,9}[.)])/;x.listItemStart=$(/^( *)(bull) */).replace("bull",x.bullet).getRegex();x.list=$(x.list).replace(/bull/g,x.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x.def.source+")").getRegex();x._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";x._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;x.html=$(x.html,"i").replace("comment",x._comment).replace("tag",x._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();x.lheading=$(x.lheading).replace(/bull/g,x.bullet).getRegex();x.paragraph=$(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex();x.blockquote=$(x.blockquote).replace("paragraph",x.paragraph).getRegex();x.normal={...x};x.gfm={...x.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};x.gfm.table=$(x.gfm.table).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex();x.gfm.paragraph=$(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",x.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex();x.pedantic={...x.normal,html:$(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",x._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:et,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:$(x.normal._paragraph).replace("hr",x.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",x.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const m={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:et,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:et,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};m._punctuation="\\p{P}$+<=>`^|~";m.punctuation=$(m.punctuation,"u").replace(/punctuation/g,m._punctuation).getRegex();m.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;m.anyPunctuation=/\\[punct]/g;m._escapes=/\\([punct])/g;m._comment=$(x._comment).replace("(?:-->|$)","-->").getRegex();m.emStrong.lDelim=$(m.emStrong.lDelim,"u").replace(/punct/g,m._punctuation).getRegex();m.emStrong.rDelimAst=$(m.emStrong.rDelimAst,"gu").replace(/punct/g,m._punctuation).getRegex();m.emStrong.rDelimUnd=$(m.emStrong.rDelimUnd,"gu").replace(/punct/g,m._punctuation).getRegex();m.anyPunctuation=$(m.anyPunctuation,"gu").replace(/punct/g,m._punctuation).getRegex();m._escapes=$(m._escapes,"gu").replace(/punct/g,m._punctuation).getRegex();m._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;m._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;m.autolink=$(m.autolink).replace("scheme",m._scheme).replace("email",m._email).getRegex();m._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;m.tag=$(m.tag).replace("comment",m._comment).replace("attribute",m._attribute).getRegex();m._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;m._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;m._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;m.link=$(m.link).replace("label",m._label).replace("href",m._href).replace("title",m._title).getRegex();m.reflink=$(m.reflink).replace("label",m._label).replace("ref",x._label).getRegex();m.nolink=$(m.nolink).replace("ref",x._label).getRegex();m.reflinkSearch=$(m.reflinkSearch,"g").replace("reflink",m.reflink).replace("nolink",m.nolink).getRegex();m.normal={...m};m.pedantic={...m.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:$(/^!?\[(label)\]\((.*?)\)/).replace("label",m._label).getRegex(),reflink:$(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",m._label).getRegex()};m.gfm={...m.normal,escape:$(m.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};m.gfm.url=$(m.gfm.url,"i").replace("email",m.gfm._extended_email).getRegex();m.breaks={...m.gfm,br:$(m.br).replace("{2,}","*").getRegex(),text:$(m.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function nr(i){return i.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function en(i){let e="";for(let n=0;n<i.length;n++){const t=Math.random()>.5?"x"+i.charCodeAt(n).toString(16):i.charCodeAt(n).toString();e+="&#"+t+";"}return e}class oe{constructor(e){w(this,"tokens");w(this,"options");w(this,"state");w(this,"tokenizer");w(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Se,this.options.tokenizer=this.options.tokenizer||new tt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:x.normal,inline:m.normal};this.options.pedantic?(n.block=x.pedantic,n.inline=m.pedantic):this.options.gfm&&(n.block=x.gfm,this.options.breaks?n.inline=m.breaks:n.inline=m.gfm),this.tokenizer.rules=n}static get rules(){return{block:x,inline:m}}static lex(e,n){return new oe(n).lex(e)}static lexInline(e,n){return new oe(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,o,h)=>o+"    ".repeat(h.length));let t,r,s,l;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(t=a.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),t.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const o=e.slice(1);let h;this.options.extensions.startBlock.forEach(c=>{h=c.call({lexer:this},o),typeof h=="number"&&h>=0&&(a=Math.min(a,h))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(t=this.tokenizer.paragraph(s))){r=n[n.length-1],l&&r.type==="paragraph"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t),l=s.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&r.type==="text"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let t,r,s,l=e,a,o,h;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,a.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(h=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(t=c.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),r=n[n.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(t=this.tokenizer.emStrong(e,l,h)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.autolink(e,en)){e=e.substring(t.raw.length),n.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e,en))){e=e.substring(t.raw.length),n.push(t);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const u=e.slice(1);let f;this.options.extensions.startInline.forEach(p=>{f=p.call({lexer:this},u),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(s=e.substring(0,c+1))}if(t=this.tokenizer.inlineText(s,nr)){e=e.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(h=t.raw.slice(-1)),o=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class nt{constructor(e){w(this,"options");this.options=e||Se}code(e,n,t){var s;const r=(s=(n||"").match(/^\S*/))==null?void 0:s[0];if(this.options.highlight){const l=this.options.highlight(e,r);l!=null&&l!==e&&(t=!0,e=l)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+W(r)+'">'+(t?e:W(e,!0))+`</code></pre>
`:"<pre><code>"+(t?e:W(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,t,r){if(this.options.headerIds){const s=this.options.headerPrefix+r.slug(t);return`<h${n} id="${s}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,t){const r=n?"ol":"ul",s=n&&t!==1?' start="'+t+'"':"";return"<"+r+s+`>
`+e+"</"+r+`>
`}listitem(e,n,t){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,t){const r=Qt(this.options.sanitize,this.options.baseUrl,e);if(r===null)return t;e=r;let s='<a href="'+e+'"';return n&&(s+=' title="'+n+'"'),s+=">"+t+"</a>",s}image(e,n,t){const r=Qt(this.options.sanitize,this.options.baseUrl,e);if(r===null)return t;e=r;let s=`<img src="${e}" alt="${t}"`;return n&&(s+=` title="${n}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class At{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,t){return""+t}image(e,n,t){return""+t}br(){return""}}class St{constructor(){w(this,"seen");this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let t=e,r=0;if(this.seen.hasOwnProperty(t)){r=this.seen[e];do r++,t=e+"-"+r;while(this.seen.hasOwnProperty(t))}return n||(this.seen[e]=r,this.seen[t]=0),t}slug(e,n={}){const t=this.serialize(e);return this.getNextSafeSlug(t,n.dryrun)}}class ce{constructor(e){w(this,"options");w(this,"renderer");w(this,"textRenderer");w(this,"slugger");this.options=e||Se,this.options.renderer=this.options.renderer||new nt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new At,this.slugger=new St}static parse(e,n){return new ce(n).parse(e)}static parseInline(e,n){return new ce(n).parseInline(e)}parse(e,n=!0){let t="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=s,a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){t+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{const l=s;t+=this.renderer.heading(this.parseInline(l.tokens),l.depth,kn(this.parseInline(l.tokens,this.textRenderer)),this.slugger);continue}case"code":{const l=s;t+=this.renderer.code(l.text,l.lang,!!l.escaped);continue}case"table":{const l=s;let a="",o="";for(let c=0;c<l.header.length;c++)o+=this.renderer.tablecell(this.parseInline(l.header[c].tokens),{header:!0,align:l.align[c]});a+=this.renderer.tablerow(o);let h="";for(let c=0;c<l.rows.length;c++){const u=l.rows[c];o="";for(let f=0;f<u.length;f++)o+=this.renderer.tablecell(this.parseInline(u[f].tokens),{header:!1,align:l.align[f]});h+=this.renderer.tablerow(o)}t+=this.renderer.table(a,h);continue}case"blockquote":{const l=s,a=this.parse(l.tokens);t+=this.renderer.blockquote(a);continue}case"list":{const l=s,a=l.ordered,o=l.start,h=l.loose;let c="";for(let u=0;u<l.items.length;u++){const f=l.items[u],p=f.checked,_=f.task;let y="";if(f.task){const S=this.renderer.checkbox(!!p);h?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=S+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=S+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:S}):y+=S}y+=this.parse(f.tokens,h),c+=this.renderer.listitem(y,_,!!p)}t+=this.renderer.list(c,a,o);continue}case"html":{const l=s;t+=this.renderer.html(l.text,l.block);continue}case"paragraph":{const l=s;t+=this.renderer.paragraph(this.parseInline(l.tokens));continue}case"text":{let l=s,a=l.tokens?this.parseInline(l.tokens):l.text;for(;r+1<e.length&&e[r+1].type==="text";)l=e[++r],a+=`
`+(l.tokens?this.parseInline(l.tokens):l.text);t+=n?this.renderer.paragraph(a):a;continue}default:{const l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return t}parseInline(e,n){n=n||this.renderer;let t="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){t+=l||"";continue}}switch(s.type){case"escape":{const l=s;t+=n.text(l.text);break}case"html":{const l=s;t+=n.html(l.text);break}case"link":{const l=s;t+=n.link(l.href,l.title,this.parseInline(l.tokens,n));break}case"image":{const l=s;t+=n.image(l.href,l.title,l.text);break}case"strong":{const l=s;t+=n.strong(this.parseInline(l.tokens,n));break}case"em":{const l=s;t+=n.em(this.parseInline(l.tokens,n));break}case"codespan":{const l=s;t+=n.codespan(l.text);break}case"br":{t+=n.br();break}case"del":{const l=s;t+=n.del(this.parseInline(l.tokens,n));break}case"text":{const l=s;t+=n.text(l.text);break}default:{const l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return t}}class Oe{constructor(e){w(this,"options");this.options=e||Se}preprocess(e){return e}postprocess(e){return e}}w(Oe,"passThroughHooks",new Set(["preprocess","postprocess"]));var Ne,gt,rt,xn;class yn{constructor(...e){ct(this,Ne);ct(this,rt);w(this,"defaults",Tt());w(this,"options",this.setOptions);w(this,"parse",Ue(this,Ne,gt).call(this,oe.lex,ce.parse));w(this,"parseInline",Ue(this,Ne,gt).call(this,oe.lexInline,ce.parseInline));w(this,"Parser",ce);w(this,"parser",ce.parse);w(this,"Renderer",nt);w(this,"TextRenderer",At);w(this,"Lexer",oe);w(this,"lexer",oe.lex);w(this,"Tokenizer",tt);w(this,"Slugger",St);w(this,"Hooks",Oe);this.use(...e)}walkTokens(e,n){var r,s;let t=[];for(const l of e)switch(t=t.concat(n.call(this,l)),l.type){case"table":{const a=l;for(const o of a.header)t=t.concat(this.walkTokens(o.tokens,n));for(const o of a.rows)for(const h of o)t=t.concat(this.walkTokens(h.tokens,n));break}case"list":{const a=l;t=t.concat(this.walkTokens(a.items,n));break}default:{const a=l;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{t=t.concat(this.walkTokens(a[o],n))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,n)))}}return t}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const l=n.renderers[s.name];l?n.renderers[s.name]=function(...a){let o=s.renderer.apply(this,a);return o===!1&&(o=l.apply(this,a)),o}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const l=n[s.level];l?l.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),r.extensions=n),t.renderer){const s=this.defaults.renderer||new nt(this.defaults);for(const l in t.renderer){const a=t.renderer[l],o=l,h=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=h.apply(s,c)),u||""}}r.renderer=s}if(t.tokenizer){const s=this.defaults.tokenizer||new tt(this.defaults);for(const l in t.tokenizer){const a=t.tokenizer[l],o=l,h=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=h.apply(s,c)),u}}r.tokenizer=s}if(t.hooks){const s=this.defaults.hooks||new Oe;for(const l in t.hooks){const a=t.hooks[l],o=l,h=s[o];Oe.passThroughHooks.has(l)?s[o]=c=>{if(this.defaults.async)return Promise.resolve(a.call(s,c)).then(f=>h.call(s,f));const u=a.call(s,c);return h.call(s,u)}:s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=h.apply(s,c)),u}}r.hooks=s}if(t.walkTokens){const s=this.defaults.walkTokens,l=t.walkTokens;r.walkTokens=function(a){let o=[];return o.push(l.call(this,a)),s&&(o=o.concat(s.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}Ne=new WeakSet,gt=function(e,n){return(t,r,s)=>{typeof r=="function"&&(s=r,r=null);const l={...r},a={...this.defaults,...l};this.defaults.async===!0&&l.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const o=Ue(this,rt,xn).call(this,!!a.silent,!!a.async,s);if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(er(a,s),a.hooks&&(a.hooks.options=a),s){const h=s,c=a.highlight;let u;try{a.hooks&&(t=a.hooks.preprocess(t)),u=e(t,a)}catch(_){return o(_)}const f=_=>{let y;if(!_)try{a.walkTokens&&this.walkTokens(u,a.walkTokens),y=n(u,a),a.hooks&&(y=a.hooks.postprocess(y))}catch(S){_=S}return a.highlight=c,_?o(_):h(null,y)};if(!c||c.length<3||(delete a.highlight,!u.length))return f();let p=0;this.walkTokens(u,_=>{_.type==="code"&&(p++,setTimeout(()=>{c(_.text,_.lang,(y,S)=>{if(y)return f(y);S!=null&&S!==_.text&&(_.text=S,_.escaped=!0),p--,p===0&&f()})},0))}),p===0&&f();return}if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(t):t).then(h=>e(h,a)).then(h=>a.walkTokens?Promise.all(this.walkTokens(h,a.walkTokens)).then(()=>h):h).then(h=>n(h,a)).then(h=>a.hooks?a.hooks.postprocess(h):h).catch(o);try{a.hooks&&(t=a.hooks.preprocess(t));const h=e(t,a);a.walkTokens&&this.walkTokens(h,a.walkTokens);let c=n(h,a);return a.hooks&&(c=a.hooks.postprocess(c)),c}catch(h){return o(h)}}},rt=new WeakSet,xn=function(e,n,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+W(r.message+"",!0)+"</pre>";if(n)return Promise.resolve(s);if(t){t(null,s);return}return s}if(n)return Promise.reject(r);if(t){t(r);return}throw r}};const Re=new yn;function O(i,e,n){return Re.parse(i,e,n)}O.options=O.setOptions=function(i){return Re.setOptions(i),O.defaults=Re.defaults,bn(O.defaults),O};O.getDefaults=Tt;O.defaults=Se;O.use=function(...i){return Re.use(...i),O.defaults=Re.defaults,bn(O.defaults),O};O.walkTokens=function(i,e){return Re.walkTokens(i,e)};O.parseInline=Re.parseInline;O.Parser=ce;O.parser=ce.parse;O.Renderer=nt;O.TextRenderer=At;O.Lexer=oe;O.lexer=oe.lex;O.Tokenizer=tt;O.Slugger=St;O.Hooks=Oe;O.parse=O;O.options;O.setOptions;O.use;O.walkTokens;O.parseInline;ce.parse;oe.lex;function ir(i){if(typeof i=="function"&&(i={highlight:i}),!i||typeof i.highlight!="function")throw new Error("Must provide highlight function");return typeof i.langPrefix!="string"&&(i.langPrefix="language-"),{async:!!i.async,walkTokens(e){if(e.type!=="code")return;const n=rr(e);if(i.async)return Promise.resolve(i.highlight(e.text,n)).then(tn(e));const t=i.highlight(e.text,n);if(t instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");tn(e)(t)},renderer:{code(e,n,t){const r=(n||"").match(/\S*/)[0],s=r?` class="${i.langPrefix}${rn(r)}"`:"";return e=e.replace(/\n$/,""),`<pre><code${s}>${t?e:rn(e,!0)}
</code></pre>`}}}}function rr(i){return(i.lang||"").match(/\S*/)[0]}function tn(i){return e=>{typeof e=="string"&&e!==i.text&&(i.escaped=!0,i.text=e)}}const vn=/[&<>"']/,sr=new RegExp(vn.source,"g"),En=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,lr=new RegExp(En.source,"g"),ar={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nn=i=>ar[i];function rn(i,e){if(e){if(vn.test(i))return i.replace(sr,nn)}else if(En.test(i))return i.replace(lr,nn);return i}function or(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function In(i){return i instanceof Map?i.clear=i.delete=i.set=function(){throw new Error("map is read-only")}:i instanceof Set&&(i.add=i.clear=i.delete=function(){throw new Error("set is read-only")}),Object.freeze(i),Object.getOwnPropertyNames(i).forEach(e=>{const n=i[e],t=typeof n;(t==="object"||t==="function")&&!Object.isFrozen(n)&&In(n)}),i}class sn{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Rn(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function we(i,...e){const n=Object.create(null);for(const t in i)n[t]=i[t];return e.forEach(function(t){for(const r in t)n[r]=t[r]}),n}const cr="</span>",ln=i=>!!i.scope,ur=(i,{prefix:e})=>{if(i.startsWith("language:"))return i.replace("language:","language-");if(i.includes(".")){const n=i.split(".");return[`${e}${n.shift()}`,...n.map((t,r)=>`${t}${"_".repeat(r+1)}`)].join(" ")}return`${e}${i}`};class hr{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=Rn(e)}openNode(e){if(!ln(e))return;const n=ur(e.scope,{prefix:this.classPrefix});this.span(n)}closeNode(e){ln(e)&&(this.buffer+=cr)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const an=(i={})=>{const e={children:[]};return Object.assign(e,i),e};class Dt{constructor(){this.rootNode=an(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=an({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(t=>this._walk(e,t)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{Dt._collapse(n)}))}}class fr extends Dt{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,n){const t=e.root;n&&(t.scope=`language:${n}`),this.add(t)}toHTML(){return new hr(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Le(i){return i?typeof i=="string"?i:i.source:null}function Tn(i){return De("(?=",i,")")}function pr(i){return De("(?:",i,")*")}function dr(i){return De("(?:",i,")?")}function De(...i){return i.map(n=>Le(n)).join("")}function gr(i){const e=i[i.length-1];return typeof e=="object"&&e.constructor===Object?(i.splice(i.length-1,1),e):{}}function $t(...i){return"("+(gr(i).capture?"":"?:")+i.map(t=>Le(t)).join("|")+")"}function An(i){return new RegExp(i.toString()+"|").exec("").length-1}function mr(i,e){const n=i&&i.exec(e);return n&&n.index===0}const br=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Mt(i,{joinWith:e}){let n=0;return i.map(t=>{n+=1;const r=n;let s=Le(t),l="";for(;s.length>0;){const a=br.exec(s);if(!a){l+=s;break}l+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?l+="\\"+String(Number(a[1])+r):(l+=a[0],a[0]==="("&&n++)}return l}).map(t=>`(${t})`).join(e)}const _r=/\b\B/,Sn="[a-zA-Z]\\w*",Ot="[a-zA-Z_]\\w*",Dn="\\b\\d+(\\.\\d+)?",$n="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Mn="\\b(0b[01]+)",wr="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",kr=(i={})=>{const e=/^#![ ]*\//;return i.binary&&(i.begin=De(e,/.*\b/,i.binary,/\b.*/)),we({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,t)=>{n.index!==0&&t.ignoreMatch()}},i)},ze={begin:"\\\\[\\s\\S]",relevance:0},yr={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ze]},xr={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ze]},vr={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},st=function(i,e,n={}){const t=we({scope:"comment",begin:i,end:e,contains:[]},n);t.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=$t("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return t.contains.push({begin:De(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),t},Er=st("//","$"),Ir=st("/\\*","\\*/"),Rr=st("#","$"),Tr={scope:"number",begin:Dn,relevance:0},Ar={scope:"number",begin:$n,relevance:0},Sr={scope:"number",begin:Mn,relevance:0},Dr={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ze,{begin:/\[/,end:/\]/,relevance:0,contains:[ze]}]}]},$r={scope:"title",begin:Sn,relevance:0},Mr={scope:"title",begin:Ot,relevance:0},Or={begin:"\\.\\s*"+Ot,relevance:0},Lr=function(i){return Object.assign(i,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var Ze=Object.freeze({__proto__:null,MATCH_NOTHING_RE:_r,IDENT_RE:Sn,UNDERSCORE_IDENT_RE:Ot,NUMBER_RE:Dn,C_NUMBER_RE:$n,BINARY_NUMBER_RE:Mn,RE_STARTERS_RE:wr,SHEBANG:kr,BACKSLASH_ESCAPE:ze,APOS_STRING_MODE:yr,QUOTE_STRING_MODE:xr,PHRASAL_WORDS_MODE:vr,COMMENT:st,C_LINE_COMMENT_MODE:Er,C_BLOCK_COMMENT_MODE:Ir,HASH_COMMENT_MODE:Rr,NUMBER_MODE:Tr,C_NUMBER_MODE:Ar,BINARY_NUMBER_MODE:Sr,REGEXP_MODE:Dr,TITLE_MODE:$r,UNDERSCORE_TITLE_MODE:Mr,METHOD_GUARD:Or,END_SAME_AS_BEGIN:Lr});function zr(i,e){i.input[i.index-1]==="."&&e.ignoreMatch()}function Nr(i,e){i.className!==void 0&&(i.scope=i.className,delete i.className)}function Br(i,e){e&&i.beginKeywords&&(i.begin="\\b("+i.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",i.__beforeBegin=zr,i.keywords=i.keywords||i.beginKeywords,delete i.beginKeywords,i.relevance===void 0&&(i.relevance=0))}function Cr(i,e){Array.isArray(i.illegal)&&(i.illegal=$t(...i.illegal))}function Pr(i,e){if(i.match){if(i.begin||i.end)throw new Error("begin & end are not supported with match");i.begin=i.match,delete i.match}}function jr(i,e){i.relevance===void 0&&(i.relevance=1)}const Fr=(i,e)=>{if(!i.beforeMatch)return;if(i.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},i);Object.keys(i).forEach(t=>{delete i[t]}),i.keywords=n.keywords,i.begin=De(n.beforeMatch,Tn(n.begin)),i.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},i.relevance=0,delete n.beforeMatch},Vr=["of","and","for","in","not","or","if","then","parent","list","value"],Hr="keyword";function On(i,e,n=Hr){const t=Object.create(null);return typeof i=="string"?r(n,i.split(" ")):Array.isArray(i)?r(n,i):Object.keys(i).forEach(function(s){Object.assign(t,On(i[s],e,s))}),t;function r(s,l){e&&(l=l.map(a=>a.toLowerCase())),l.forEach(function(a){const o=a.split("|");t[o[0]]=[s,Ur(o[0],o[1])]})}}function Ur(i,e){return e?Number(e):qr(i)?0:1}function qr(i){return Vr.includes(i.toLowerCase())}const on={},Ie=i=>{console.error(i)},cn=(i,...e)=>{console.log(`WARN: ${i}`,...e)},$e=(i,e)=>{on[`${i}/${e}`]||(console.log(`Deprecated as of ${i}. ${e}`),on[`${i}/${e}`]=!0)},it=new Error;function Ln(i,e,{key:n}){let t=0;const r=i[n],s={},l={};for(let a=1;a<=e.length;a++)l[a+t]=r[a],s[a+t]=!0,t+=An(e[a-1]);i[n]=l,i[n]._emit=s,i[n]._multi=!0}function Wr(i){if(Array.isArray(i.begin)){if(i.skip||i.excludeBegin||i.returnBegin)throw Ie("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),it;if(typeof i.beginScope!="object"||i.beginScope===null)throw Ie("beginScope must be object"),it;Ln(i,i.begin,{key:"beginScope"}),i.begin=Mt(i.begin,{joinWith:""})}}function Gr(i){if(Array.isArray(i.end)){if(i.skip||i.excludeEnd||i.returnEnd)throw Ie("skip, excludeEnd, returnEnd not compatible with endScope: {}"),it;if(typeof i.endScope!="object"||i.endScope===null)throw Ie("endScope must be object"),it;Ln(i,i.end,{key:"endScope"}),i.end=Mt(i.end,{joinWith:""})}}function Zr(i){i.scope&&typeof i.scope=="object"&&i.scope!==null&&(i.beginScope=i.scope,delete i.scope)}function Kr(i){Zr(i),typeof i.beginScope=="string"&&(i.beginScope={_wrap:i.beginScope}),typeof i.endScope=="string"&&(i.endScope={_wrap:i.endScope}),Wr(i),Gr(i)}function Xr(i){function e(l,a){return new RegExp(Le(l),"m"+(i.case_insensitive?"i":"")+(i.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,o){o.position=this.position++,this.matchIndexes[this.matchAt]=o,this.regexes.push([o,a]),this.matchAt+=An(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(o=>o[1]);this.matcherRe=e(Mt(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const o=this.matcherRe.exec(a);if(!o)return null;const h=o.findIndex((u,f)=>f>0&&u!==void 0),c=this.matchIndexes[h];return o.splice(0,h),Object.assign(o,c)}}class t{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const o=new n;return this.rules.slice(a).forEach(([h,c])=>o.addRule(h,c)),o.compile(),this.multiRegexes[a]=o,o}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,o){this.rules.push([a,o]),o.type==="begin"&&this.count++}exec(a){const o=this.getMatcher(this.regexIndex);o.lastIndex=this.lastIndex;let h=o.exec(a);if(this.resumingScanAtSamePosition()&&!(h&&h.index===this.lastIndex)){const c=this.getMatcher(0);c.lastIndex=this.lastIndex+1,h=c.exec(a)}return h&&(this.regexIndex+=h.position+1,this.regexIndex===this.count&&this.considerAll()),h}}function r(l){const a=new t;return l.contains.forEach(o=>a.addRule(o.begin,{rule:o,type:"begin"})),l.terminatorEnd&&a.addRule(l.terminatorEnd,{type:"end"}),l.illegal&&a.addRule(l.illegal,{type:"illegal"}),a}function s(l,a){const o=l;if(l.isCompiled)return o;[Nr,Pr,Kr,Fr].forEach(c=>c(l,a)),i.compilerExtensions.forEach(c=>c(l,a)),l.__beforeBegin=null,[Br,Cr,jr].forEach(c=>c(l,a)),l.isCompiled=!0;let h=null;return typeof l.keywords=="object"&&l.keywords.$pattern&&(l.keywords=Object.assign({},l.keywords),h=l.keywords.$pattern,delete l.keywords.$pattern),h=h||/\w+/,l.keywords&&(l.keywords=On(l.keywords,i.case_insensitive)),o.keywordPatternRe=e(h,!0),a&&(l.begin||(l.begin=/\B|\b/),o.beginRe=e(o.begin),!l.end&&!l.endsWithParent&&(l.end=/\B|\b/),l.end&&(o.endRe=e(o.end)),o.terminatorEnd=Le(o.end)||"",l.endsWithParent&&a.terminatorEnd&&(o.terminatorEnd+=(l.end?"|":"")+a.terminatorEnd)),l.illegal&&(o.illegalRe=e(l.illegal)),l.contains||(l.contains=[]),l.contains=[].concat(...l.contains.map(function(c){return Qr(c==="self"?l:c)})),l.contains.forEach(function(c){s(c,o)}),l.starts&&s(l.starts,a),o.matcher=r(o),o}if(i.compilerExtensions||(i.compilerExtensions=[]),i.contains&&i.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return i.classNameAliases=we(i.classNameAliases||{}),s(i)}function zn(i){return i?i.endsWithParent||zn(i.starts):!1}function Qr(i){return i.variants&&!i.cachedVariants&&(i.cachedVariants=i.variants.map(function(e){return we(i,{variants:null},e)})),i.cachedVariants?i.cachedVariants:zn(i)?we(i,{starts:i.starts?we(i.starts):null}):Object.isFrozen(i)?we(i):i}var Yr="11.8.0";class Jr extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const ut=Rn,un=we,hn=Symbol("nomatch"),es=7,Nn=function(i){const e=Object.create(null),n=Object.create(null),t=[];let r=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:fr};function o(d){return a.noHighlightRe.test(d)}function h(d){let v=d.className+" ";v+=d.parentNode?d.parentNode.className:"";const A=a.languageDetectRe.exec(v);if(A){const L=me(A[1]);return L||(cn(s.replace("{}",A[1])),cn("Falling back to no-highlight mode for this block.",d)),L?A[1]:"no-highlight"}return v.split(/\s+/).find(L=>o(L)||me(L))}function c(d,v,A){let L="",V="";typeof v=="object"?(L=d,A=v.ignoreIllegals,V=v.language):($e("10.7.0","highlight(lang, code, ...args) has been deprecated."),$e("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),V=d,L=v),A===void 0&&(A=!0);const re={code:L,language:V};je("before:highlight",re);const be=re.result?re.result:u(re.language,re.code,A);return be.code=re.code,je("after:highlight",be),be}function u(d,v,A,L){const V=Object.create(null);function re(g,k){return g.keywords[k]}function be(){if(!R.keywords){H.addText(B);return}let g=0;R.keywordPatternRe.lastIndex=0;let k=R.keywordPatternRe.exec(B),T="";for(;k;){T+=B.substring(g,k.index);const M=ae.case_insensitive?k[0].toLowerCase():k[0],q=re(R,M);if(q){const[fe,Kn]=q;if(H.addText(T),T="",V[M]=(V[M]||0)+1,V[M]<=es&&(He+=Kn),fe.startsWith("_"))T+=k[0];else{const Xn=ae.classNameAliases[fe]||fe;le(k[0],Xn)}}else T+=k[0];g=R.keywordPatternRe.lastIndex,k=R.keywordPatternRe.exec(B)}T+=B.substring(g),H.addText(T)}function Fe(){if(B==="")return;let g=null;if(typeof R.subLanguage=="string"){if(!e[R.subLanguage]){H.addText(B);return}g=u(R.subLanguage,B,!0,jt[R.subLanguage]),jt[R.subLanguage]=g._top}else g=p(B,R.subLanguage.length?R.subLanguage:null);R.relevance>0&&(He+=g.relevance),H.__addSublanguage(g._emitter,g.language)}function ee(){R.subLanguage!=null?Fe():be(),B=""}function le(g,k){g!==""&&(H.startScope(k),H.addText(g),H.endScope())}function Nt(g,k){let T=1;const M=k.length-1;for(;T<=M;){if(!g._emit[T]){T++;continue}const q=ae.classNameAliases[g[T]]||g[T],fe=k[T];q?le(fe,q):(B=fe,be(),B=""),T++}}function Bt(g,k){return g.scope&&typeof g.scope=="string"&&H.openNode(ae.classNameAliases[g.scope]||g.scope),g.beginScope&&(g.beginScope._wrap?(le(B,ae.classNameAliases[g.beginScope._wrap]||g.beginScope._wrap),B=""):g.beginScope._multi&&(Nt(g.beginScope,k),B="")),R=Object.create(g,{parent:{value:R}}),R}function Ct(g,k,T){let M=mr(g.endRe,T);if(M){if(g["on:end"]){const q=new sn(g);g["on:end"](k,q),q.isMatchIgnored&&(M=!1)}if(M){for(;g.endsParent&&g.parent;)g=g.parent;return g}}if(g.endsWithParent)return Ct(g.parent,k,T)}function Un(g){return R.matcher.regexIndex===0?(B+=g[0],1):(ot=!0,0)}function qn(g){const k=g[0],T=g.rule,M=new sn(T),q=[T.__beforeBegin,T["on:begin"]];for(const fe of q)if(fe&&(fe(g,M),M.isMatchIgnored))return Un(k);return T.skip?B+=k:(T.excludeBegin&&(B+=k),ee(),!T.returnBegin&&!T.excludeBegin&&(B=k)),Bt(T,g),T.returnBegin?0:k.length}function Wn(g){const k=g[0],T=v.substring(g.index),M=Ct(R,g,T);if(!M)return hn;const q=R;R.endScope&&R.endScope._wrap?(ee(),le(k,R.endScope._wrap)):R.endScope&&R.endScope._multi?(ee(),Nt(R.endScope,g)):q.skip?B+=k:(q.returnEnd||q.excludeEnd||(B+=k),ee(),q.excludeEnd&&(B=k));do R.scope&&H.closeNode(),!R.skip&&!R.subLanguage&&(He+=R.relevance),R=R.parent;while(R!==M.parent);return M.starts&&Bt(M.starts,g),q.returnEnd?0:k.length}function Gn(){const g=[];for(let k=R;k!==ae;k=k.parent)k.scope&&g.unshift(k.scope);g.forEach(k=>H.openNode(k))}let Ve={};function Pt(g,k){const T=k&&k[0];if(B+=g,T==null)return ee(),0;if(Ve.type==="begin"&&k.type==="end"&&Ve.index===k.index&&T===""){if(B+=v.slice(k.index,k.index+1),!r){const M=new Error(`0 width match regex (${d})`);throw M.languageName=d,M.badRule=Ve.rule,M}return 1}if(Ve=k,k.type==="begin")return qn(k);if(k.type==="illegal"&&!A){const M=new Error('Illegal lexeme "'+T+'" for mode "'+(R.scope||"<unnamed>")+'"');throw M.mode=R,M}else if(k.type==="end"){const M=Wn(k);if(M!==hn)return M}if(k.type==="illegal"&&T==="")return 1;if(at>1e5&&at>k.index*3)throw new Error("potential infinite loop, way more iterations than matches");return B+=T,T.length}const ae=me(d);if(!ae)throw Ie(s.replace("{}",d)),new Error('Unknown language: "'+d+'"');const Zn=Xr(ae);let lt="",R=L||Zn;const jt={},H=new a.__emitter(a);Gn();let B="",He=0,Ee=0,at=0,ot=!1;try{if(ae.__emitTokens)ae.__emitTokens(v,H);else{for(R.matcher.considerAll();;){at++,ot?ot=!1:R.matcher.considerAll(),R.matcher.lastIndex=Ee;const g=R.matcher.exec(v);if(!g)break;const k=v.substring(Ee,g.index),T=Pt(k,g);Ee=g.index+T}Pt(v.substring(Ee))}return H.finalize(),lt=H.toHTML(),{language:d,value:lt,relevance:He,illegal:!1,_emitter:H,_top:R}}catch(g){if(g.message&&g.message.includes("Illegal"))return{language:d,value:ut(v),illegal:!0,relevance:0,_illegalBy:{message:g.message,index:Ee,context:v.slice(Ee-100,Ee+100),mode:g.mode,resultSoFar:lt},_emitter:H};if(r)return{language:d,value:ut(v),illegal:!1,relevance:0,errorRaised:g,_emitter:H,_top:R};throw g}}function f(d){const v={value:ut(d),illegal:!1,relevance:0,_top:l,_emitter:new a.__emitter(a)};return v._emitter.addText(d),v}function p(d,v){v=v||a.languages||Object.keys(e);const A=f(d),L=v.filter(me).filter(zt).map(ee=>u(ee,d,!1));L.unshift(A);const V=L.sort((ee,le)=>{if(ee.relevance!==le.relevance)return le.relevance-ee.relevance;if(ee.language&&le.language){if(me(ee.language).supersetOf===le.language)return 1;if(me(le.language).supersetOf===ee.language)return-1}return 0}),[re,be]=V,Fe=re;return Fe.secondBest=be,Fe}function _(d,v,A){const L=v&&n[v]||A;d.classList.add("hljs"),d.classList.add(`language-${L}`)}function y(d){let v=null;const A=h(d);if(o(A))return;if(je("before:highlightElement",{el:d,language:A}),d.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(d)),a.throwUnescapedHTML))throw new Jr("One of your code blocks includes unescaped HTML.",d.innerHTML);v=d;const L=v.textContent,V=A?c(L,{language:A,ignoreIllegals:!0}):p(L);d.innerHTML=V.value,_(d,A,V.language),d.result={language:V.language,re:V.relevance,relevance:V.relevance},V.secondBest&&(d.secondBest={language:V.secondBest.language,relevance:V.secondBest.relevance}),je("after:highlightElement",{el:d,result:V,text:L})}function S(d){a=un(a,d)}const G=()=>{j(),$e("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function U(){j(),$e("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let P=!1;function j(){if(document.readyState==="loading"){P=!0;return}document.querySelectorAll(a.cssSelector).forEach(y)}function ie(){P&&j()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",ie,!1);function Bn(d,v){let A=null;try{A=v(i)}catch(L){if(Ie("Language definition for '{}' could not be registered.".replace("{}",d)),r)Ie(L);else throw L;A=l}A.name||(A.name=d),e[d]=A,A.rawDefinition=v.bind(null,i),A.aliases&&Lt(A.aliases,{languageName:d})}function Cn(d){delete e[d];for(const v of Object.keys(n))n[v]===d&&delete n[v]}function Pn(){return Object.keys(e)}function me(d){return d=(d||"").toLowerCase(),e[d]||e[n[d]]}function Lt(d,{languageName:v}){typeof d=="string"&&(d=[d]),d.forEach(A=>{n[A.toLowerCase()]=v})}function zt(d){const v=me(d);return v&&!v.disableAutodetect}function jn(d){d["before:highlightBlock"]&&!d["before:highlightElement"]&&(d["before:highlightElement"]=v=>{d["before:highlightBlock"](Object.assign({block:v.el},v))}),d["after:highlightBlock"]&&!d["after:highlightElement"]&&(d["after:highlightElement"]=v=>{d["after:highlightBlock"](Object.assign({block:v.el},v))})}function Fn(d){jn(d),t.push(d)}function Vn(d){const v=t.indexOf(d);v!==-1&&t.splice(v,1)}function je(d,v){const A=d;t.forEach(function(L){L[A]&&L[A](v)})}function Hn(d){return $e("10.7.0","highlightBlock will be removed entirely in v12.0"),$e("10.7.0","Please use highlightElement now."),y(d)}Object.assign(i,{highlight:c,highlightAuto:p,highlightAll:j,highlightElement:y,highlightBlock:Hn,configure:S,initHighlighting:G,initHighlightingOnLoad:U,registerLanguage:Bn,unregisterLanguage:Cn,listLanguages:Pn,getLanguage:me,registerAliases:Lt,autoDetection:zt,inherit:un,addPlugin:Fn,removePlugin:Vn}),i.debugMode=function(){r=!1},i.safeMode=function(){r=!0},i.versionString=Yr,i.regex={concat:De,lookahead:Tn,either:$t,optional:dr,anyNumberOfTimes:pr};for(const d in Ze)typeof Ze[d]=="object"&&In(Ze[d]);return Object.assign(i,Ze),i},Me=Nn({});Me.newInstance=()=>Nn({});var ts=Me;Me.HighlightJS=Me;Me.default=Me;const fn=or(ts);function ns(i){return{c:b,l:b,m:b,p:b,d:b}}function is(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!1,pending:cs,then:ss,catch:rs,value:6};return ue(n=i[5].text(),t),{c(){e=Y(),t.block.c()},l(r){e=Y(),t.block.l(r)},m(r,s){D(r,e,s),t.block.m(r,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e},p(r,s){i=r,t.ctx=i,s&1&&n!==(n=i[5].text())&&ue(n,t)||Pe(t,i,s)},d(r){r&&E(e),t.block.d(r),t.token=null,t=null}}}function rs(i){return{c:b,l:b,m:b,p:b,d:b}}function ss(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!1,pending:os,then:as,catch:ls,value:7};return ue(n=i[2].parse(i[6]),t),{c(){e=Y(),t.block.c()},l(r){e=Y(),t.block.l(r)},m(r,s){D(r,e,s),t.block.m(r,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e},p(r,s){i=r,t.ctx=i,s&1&&n!==(n=i[2].parse(i[6]))&&ue(n,t)||Pe(t,i,s)},d(r){r&&E(e),t.block.d(r),t.token=null,t=null}}}function ls(i){return{c:b,l:b,m:b,p:b,d:b}}function as(i){let e,n=i[7]+"",t;return{c(){e=new si(!1),t=Y(),this.h()},l(r){e=li(r,!1),t=Y(),this.h()},h(){e.a=t},m(r,s){e.m(n,r,s),D(r,t,s)},p(r,s){s&1&&n!==(n=r[7]+"")&&e.p(n)},d(r){r&&(E(t),e.d())}}}function os(i){return{c:b,l:b,m:b,p:b,d:b}}function cs(i){return{c:b,l:b,m:b,p:b,d:b}}function us(i){return{c:b,l:b,m:b,p:b,d:b}}function hs(i){let e,n,t,r={ctx:i,current:null,token:null,hasCatch:!1,pending:us,then:is,catch:ns,value:5};return ue(t=i[0].blob(),r),{c(){e=z("div"),n=z("div"),r.block.c(),this.h()},l(s){e=N(s,"DIV",{class:!0});var l=Z(e);n=N(l,"DIV",{class:!0});var a=Z(n);r.block.l(a),a.forEach(E),l.forEach(E),this.h()},h(){I(n,"class","markdown-scroll svelte-1spych6"),I(e,"class","markdown-container svelte-1spych6")},m(s,l){D(s,e,l),K(e,n),r.block.m(n,r.anchor=null),r.mount=()=>n,r.anchor=null,i[3](n)},p(s,[l]){i=s,r.ctx=i,l&1&&t!==(t=i[0].blob())&&ue(t,r)||Pe(r,i,l)},i:b,o:b,d(s){s&&E(e),r.block.d(),r.token=null,r=null,i[3](null)}}}function fs(i,e,n){let{entry:t}=e,r,s;kt(()=>{s=new MutationObserver(()=>{r.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(h=>{h.id=h.innerText.toLowerCase().replace(" ","_")})}),s.observe(r,{childList:!0})}),ri(()=>{s==null||s.disconnect()});const l=new yn(ir({langPrefix:"hljs language-",async:!0,highlight:async(o,h)=>{const c=await ne.get({type:"langname",langname:h});return c==null?o:(fn.registerLanguage(c.extra,c.import),fn.highlight(o,{language:c.extra}).value)}}));function a(o){Xe[o?"unshift":"push"](()=>{r=o,n(1,r)})}return i.$$set=o=>{"entry"in o&&n(0,t=o.entry)},[t,r,l,a]}class ps extends Te{constructor(e){super(),Ae(this,e,fs,hs,ve,{entry:0})}}function ds(i){let e,n,t,r,s,l;return e=new Fi({}),e.$on("dropentry",i[2]),{c(){yt(e.$$.fragment),n=de(),t=z("div"),r=de(),s=z("div"),this.h()},l(a){xt(e.$$.fragment,a),n=ge(a),t=N(a,"DIV",{class:!0}),Z(t).forEach(E),r=ge(a),s=N(a,"DIV",{class:!0}),Z(s).forEach(E),this.h()},h(){I(t,"class","tab-list-container svelte-b92idw"),I(s,"class","tab-content-container")},m(a,o){vt(e,a,o),D(a,n,o),D(a,t,o),i[3](t),D(a,r,o),D(a,s,o),i[4](s),l=!0},p:b,i(a){l||(Q(e.$$.fragment,a),l=!0)},o(a){te(e.$$.fragment,a),l=!1},d(a){a&&(E(n),E(t),E(r),E(s)),Et(e,a),i[3](null),i[4](null)}}}function gs(i,e,n){let t,r;kt(async()=>{dn.set({listContainer:t,contentContainer:r,items:[],selected:null}),new ps({target:pt({name:"Information",icon:"/asset-viewer/bootstrap-icons/info-circle.svg",closable:!1}),props:{entry:new xe.fsFile_Fetch("/asset-viewer/docs/usage.md",null)}})});function s(h){new mn({target:pt({name:h.name,icon:"/asset-viewer/bootstrap-icons/folder-fill.svg"}),props:{dir:h}})}async function l(h){var u,f;const c=h.detail;if(c.type==F.Directory)s(c);else if(c.type==F.File){if(await dt(c),!c.viewer)throw new Error("Dragged viewer has no viewer.");const p=await((f=(u=c.viewer).transform)==null?void 0:f.call(u,c))??c;p.name=c.name,p.parent=c.parent,p.type==F.Directory?s(p):p.type==F.File&&It(p)}}function a(h){Xe[h?"unshift":"push"](()=>{t=h,n(0,t)})}function o(h){Xe[h?"unshift":"push"](()=>{r=h,n(1,r)})}return[t,r,l,a,o]}class xs extends Te{constructor(e){super(),Ae(this,e,gs,ds,ve,{})}}export{ht as D,ps as M,Qe as N,xs as P,Ye as U,ys as _,xe as a,ts as c,Ft as e,F as f,or as g,ue as h,ne as l,Pe as u};
