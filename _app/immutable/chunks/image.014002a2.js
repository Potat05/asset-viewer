import{h as o,u as _,f as s}from"./2.ec27719f.js";import{s as b,e as u,i as p,A as r,d as f,f as h,g as d,J as m,j as c}from"./scheduler.ac22207c.js";import{S as g,i as k}from"./index.1bb6f5e4.js";function w(e){return{c:r,l:r,m:r,p:r,d:r}}function y(e){let t,l,a;return{c(){t=h("img"),this.h()},l(n){t=d(n,"IMG",{src:!0,alt:!0}),this.h()},h(){m(t.src,l=URL.createObjectURL(e[1]))||c(t,"src",l),c(t,"alt",a=e[0].name)},m(n,i){p(n,t,i)},p(n,i){i&1&&!m(t.src,l=URL.createObjectURL(n[1]))&&c(t,"src",l),i&1&&a!==(a=n[0].name)&&c(t,"alt",a)},d(n){n&&f(t)}}}function j(e){return{c:r,l:r,m:r,p:r,d:r}}function v(e){let t,l,a={ctx:e,current:null,token:null,hasCatch:!1,pending:j,then:y,catch:w,value:1};return o(l=e[0].blob(),a),{c(){t=u(),a.block.c()},l(n){t=u(),a.block.l(n)},m(n,i){p(n,t,i),a.block.m(n,a.anchor=i),a.mount=()=>t.parentNode,a.anchor=t},p(n,[i]){e=n,a.ctx=e,i&1&&l!==(l=e[0].blob())&&o(l,a)||_(a,e,i)},i:r,o:r,d(n){n&&f(t),a.block.d(n),a.token=null,a=null}}}function L(e,t,l){let{entry:a}=t;return e.$$set=n=>{"entry"in n&&l(0,a=n.entry)},[a]}class R extends g{constructor(t){super(),k(this,t,L,v,b,{entry:0})}}const O={namespace:"image",priority:1,isValid:async e=>e.type==s.File&&["png","jpg","jpeg","jfif","tiff","webp","gif","svg","bmp"].includes(e.name.split(".").pop()??""),createViewer:async(e,t)=>{if(e.type==s.File)new R({target:t,props:{entry:e}});else throw new Error("Tried to create image viewer with directory.")},getIcon:async e=>e.type==s.File?URL.createObjectURL(await e.blob()):null};export{O as default};
